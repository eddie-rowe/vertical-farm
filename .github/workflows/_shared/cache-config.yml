# Shared Cache Configuration
# This file contains reusable cache configurations for consistent caching across workflows

# Node.js Dependencies Cache
nodejs_cache: &nodejs_cache
  - name: Cache Node.js dependencies
    uses: actions/cache@v4
    with:
      path: |
        ~/.npm
        node_modules
        .next/cache
      key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
      restore-keys: |
        ${{ runner.os }}-node-

# Python Dependencies Cache  
python_cache: &python_cache
  - name: Cache Python dependencies
    uses: actions/cache@v4
    with:
      path: |
        ~/.cache/pip
        ~/.local/lib/python*/site-packages
      key: ${{ runner.os }}-python-${{ hashFiles('**/requirements.txt', '**/pyproject.toml') }}
      restore-keys: |
        ${{ runner.os }}-python-

# Docker Layer Cache
docker_cache: &docker_cache
  - name: Set up Docker Buildx
    uses: docker/setup-buildx-action@v3
    
  - name: Cache Docker layers
    uses: actions/cache@v4
    with:
      path: /tmp/.buildx-cache
      key: ${{ runner.os }}-buildx-${{ github.sha }}
      restore-keys: |
        ${{ runner.os }}-buildx-

# Supabase CLI Cache
supabase_cache: &supabase_cache
  - name: Cache Supabase CLI
    uses: actions/cache@v4
    with:
      path: |
        ~/.local/bin/supabase
        ~/.cache/supabase
      key: ${{ runner.os }}-supabase-cli-v1
      restore-keys: |
        ${{ runner.os }}-supabase-cli-

# MkDocs Cache
mkdocs_cache: &mkdocs_cache
  - name: Cache MkDocs dependencies
    uses: actions/cache@v4
    with:
      path: |
        ~/.cache/pip
        .cache/mkdocs
      key: ${{ runner.os }}-mkdocs-${{ hashFiles('**/requirements.txt') }}
      restore-keys: |
        ${{ runner.os }}-mkdocs- 