************* Module vertical-farm.backend.app.main
app/main.py:1:0: C0301: Line too long (105/100) (line-too-long)
app/main.py:21:0: C0301: Line too long (119/100) (line-too-long)
app/main.py:22:0: C0301: Line too long (104/100) (line-too-long)
app/main.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/main.py:36:19: W0621: Redefining name 'app' from outer scope (line 87) (redefined-outer-name)
app/main.py:56:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/main.py:55:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:57:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:71:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/main.py:72:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:36:19: W0613: Unused argument 'app' (unused-argument)
app/main.py:95:0: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:96:0: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:97:0: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:112:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:115:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:123:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:142:0: C0116: Missing function or method docstring (missing-function-docstring)
app/main.py:142:33: W0613: Unused argument 'request' (unused-argument)
app/main.py:147:0: C0116: Missing function or method docstring (missing-function-docstring)
app/main.py:148:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/main.py:147:36: W0613: Unused argument 'request' (unused-argument)
app/main.py:168:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/main.py:253:8: W0621: Redefining name 'logging' from outer scope (line 3) (redefined-outer-name)
app/main.py:229:4: C0415: Import outside toplevel (jose.jwt) (import-outside-toplevel)
app/main.py:231:4: C0415: Import outside toplevel (app.crud.crud_user) (import-outside-toplevel)
app/main.py:252:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/main.py:253:8: W0404: Reimport 'logging' (imported line 3) (reimported)
app/main.py:253:8: C0415: Import outside toplevel (logging) (import-outside-toplevel)
app/main.py:273:0: C0116: Missing function or method docstring (missing-function-docstring)
************* Module vertical-farm.backend.app.dependencies
app/dependencies.py:47:0: C0301: Line too long (106/100) (line-too-long)
app/dependencies.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/dependencies.py:21:0: C0116: Missing function or method docstring (missing-function-docstring)
app/dependencies.py:35:8: W0707: Consider explicitly re-raising using 'except (JWTError, ValidationError) as exc' and 'raise credentials_exception from exc' (raise-missing-from)
app/dependencies.py:51:17: E1101: Module 'app.crud.crud_user' has no 'get_user' member (no-member)
app/dependencies.py:55:0: C0116: Missing function or method docstring (missing-function-docstring)
app/dependencies.py:59:17: E1101: Module 'app.crud.crud_user' has no 'get_user' member (no-member)
app/dependencies.py:67:0: C0116: Missing function or method docstring (missing-function-docstring)
app/dependencies.py:70:11: E1101: Module 'app.crud.crud_user' has no 'is_superuser' member (no-member)
************* Module vertical-farm.backend.app.core.config
app/core/config.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/core/config.py:9:0: C0116: Missing function or method docstring (missing-function-docstring)
app/core/config.py:12:4: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/core/config.py:20:16: C0415: Import outside toplevel (json) (import-outside-toplevel)
app/core/config.py:38:16: W0707: Consider explicitly re-raising using 'raise ValueError("BACKEND_CORS_ORIGINS string starts with '[' but is not valid JSON") from e' (raise-missing-from)
app/core/config.py:167:4: C0116: Missing function or method docstring (missing-function-docstring)
************* Module vertical-farm.backend.app.core.security
app/core/security.py:167:0: C0301: Line too long (127/100) (line-too-long)
app/core/security.py:267:0: C0325: Unnecessary parens after 'not' keyword (superfluous-parens)
app/core/security.py:601:0: C0301: Line too long (172/100) (line-too-long)
app/core/security.py:698:0: C0301: Line too long (107/100) (line-too-long)
app/core/security.py:763:0: C0301: Line too long (126/100) (line-too-long)
app/core/security.py:893:0: C0301: Line too long (133/100) (line-too-long)
app/core/security.py:933:0: C0301: Line too long (119/100) (line-too-long)
app/core/security.py:1:0: C0302: Too many lines in module (1085/1000) (too-many-lines)
app/core/security.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/core/security.py:162:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:284:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/core/security.py:230:16: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/core/security.py:247:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/core/security.py:264:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/core/security.py:277:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/core/security.py:285:8: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
app/core/security.py:288:12: W0707: Consider explicitly re-raising using 'raise DeviceControlError(f'State validation failed: {str(e)}') from e' (raise-missing-from)
app/core/security.py:211:0: R0911: Too many return statements (8/6) (too-many-return-statements)
app/core/security.py:211:0: R0912: Too many branches (22/12) (too-many-branches)
app/core/security.py:321:0: R0913: Too many arguments (8/5) (too-many-arguments)
app/core/security.py:321:0: R0917: Too many positional arguments (8/5) (too-many-positional-arguments)
app/core/security.py:349:12: W0621: Redefining name 'get_async_rls_client' from outer scope (line 696) (redefined-outer-name)
app/core/security.py:377:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/core/security.py:349:12: W0404: Reimport 'get_async_rls_client' (imported line 696) (reimported)
app/core/security.py:349:12: C0415: Import outside toplevel (app.db.supabase_client.get_async_rls_client) (import-outside-toplevel)
app/core/security.py:368:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/core/security.py:369:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:374:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:379:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:399:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/core/security.py:454:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/core/security.py:455:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:483:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:493:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:494:8: W0707: Consider explicitly re-raising using 'raise FarmAccessDeniedError(f'Could not verify farm access: {str(e)}') from e' (raise-missing-from)
app/core/security.py:516:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/core/security.py:517:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:638:8: W0707: Consider explicitly re-raising using 'except SessionExpiredError as exc' and 'raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail='Session expired. Please refresh your token.', headers={'X-Refresh-Required': 'true'}) from exc' (raise-missing-from)
app/core/security.py:684:8: W0707: Consider explicitly re-raising using 'raise AuthenticationError(f'Invalid token format: {str(e)}') from e' (raise-missing-from)
app/core/security.py:687:0: C0413: Import "from supabase import AClient as SupabaseAsyncClient" should be placed at the top of the module (wrong-import-position)
app/core/security.py:693:0: C0413: Import "from app.crud import crud_user" should be placed at the top of the module (wrong-import-position)
app/core/security.py:696:0: C0413: Import "from app.db.supabase_client import get_async_rls_client" should be placed at the top of the module (wrong-import-position)
app/core/security.py:704:0: C0116: Missing function or method docstring (missing-function-docstring)
app/core/security.py:708:4: W0621: Redefining name 'jwt' from outer scope (line 16) (redefined-outer-name)
app/core/security.py:708:4: W0404: Reimport 'jwt' (imported line 16) (reimported)
app/core/security.py:708:4: C0415: Import outside toplevel (jose.jwt) (import-outside-toplevel)
app/core/security.py:710:4: C0415: Import outside toplevel (app.schemas.user.User) (import-outside-toplevel)
app/core/security.py:712:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:732:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:734:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:735:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail='Invalid token format') from e' (raise-missing-from)
app/core/security.py:746:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:751:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:753:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:754:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Database error: {str(e)}') from e' (raise-missing-from)
app/core/security.py:760:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:766:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:781:4: W0621: Redefining name 'jwt' from outer scope (line 16) (redefined-outer-name)
app/core/security.py:781:4: W0404: Reimport 'jwt' (imported line 16) (reimported)
app/core/security.py:781:4: C0415: Import outside toplevel (jose.jwt) (import-outside-toplevel)
app/core/security.py:783:4: C0415: Import outside toplevel (app.schemas.user.User) (import-outside-toplevel)
app/core/security.py:805:8: W0707: Consider explicitly re-raising using 'except Exception as exc' and 'raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail='Invalid token format') from exc' (raise-missing-from)
app/core/security.py:826:0: C0116: Missing function or method docstring (missing-function-docstring)
app/core/security.py:856:8: W0621: Redefining name 'jwt' from outer scope (line 16) (redefined-outer-name)
app/core/security.py:885:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/core/security.py:856:8: W0404: Reimport 'jwt' (imported line 16) (reimported)
app/core/security.py:856:8: C0415: Import outside toplevel (jose.jwt) (import-outside-toplevel)
app/core/security.py:928:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:942:0: R0913: Too many arguments (6/5) (too-many-arguments)
app/core/security.py:942:0: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/core/security.py:993:0: R0913: Too many arguments (8/5) (too-many-arguments)
app/core/security.py:993:0: R0917: Too many positional arguments (8/5) (too-many-positional-arguments)
app/core/security.py:1045:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/core/security.py:1046:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/core/security.py:1062:33: W0613: Unused argument 'request' (unused-argument)
app/core/security.py:1070:37: W0613: Unused argument 'request' (unused-argument)
app/core/security.py:1077:34: W0613: Unused argument 'request' (unused-argument)
app/core/security.py:1081:37: W0613: Unused argument 'request' (unused-argument)
app/core/security.py:687:0: C0411: third party import "supabase.AClient" should be placed before first party import "app.core.config.settings"  (wrong-import-order)
app/core/security.py:693:0: C0412: Imports from package app are not grouped (ungrouped-imports)
************* Module vertical-farm.backend.app.core.cache
app/core/cache.py:173:0: C0103: Constant name "_cache_manager" doesn't conform to UPPER_CASE naming style (invalid-name)
app/core/cache.py:183:4: W0603: Using the global statement (global-statement)
************* Module vertical-farm.backend.app.core.password_utils
app/core/password_utils.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/core/password_utils.py:7:0: C0116: Missing function or method docstring (missing-function-docstring)
app/core/password_utils.py:11:0: C0116: Missing function or method docstring (missing-function-docstring)
************* Module vertical-farm.backend.app.core.datadog_setup
app/core/datadog_setup.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module vertical-farm.backend.app.tests.conftest
app/tests/conftest.py:24:0: C0413: Import "from app.core.config import get_settings" should be placed at the top of the module (wrong-import-position)
app/tests/conftest.py:25:0: C0413: Import "from app.main import app" should be placed at the top of the module (wrong-import-position)
app/tests/conftest.py:26:0: C0413: Import "from app.models.enums import FanType, ParentType, PermissionLevel, RowOrientation, SensorType, UserRole" should be placed at the top of the module (wrong-import-position)
app/tests/conftest.py:307:4: W0621: Redefining name 'mock_redis' from outer scope (line 305) (redefined-outer-name)
app/tests/conftest.py:402:23: E1101: Class 'RowOrientation' has no 'NORTH_SOUTH' member (no-member)
app/tests/conftest.py:476:16: E1101: Class 'FanType' has no 'CIRCULATION' member (no-member)
app/tests/conftest.py:498:22: E1101: Class 'PermissionLevel' has no 'READ_WRITE' member (no-member)
app/tests/conftest.py:656:0: R0913: Too many arguments (6/5) (too-many-arguments)
app/tests/conftest.py:656:0: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/tests/conftest.py:657:4: W0621: Redefining name 'sample_farm_data' from outer scope (line 379) (redefined-outer-name)
app/tests/conftest.py:658:4: W0621: Redefining name 'sample_row_data' from outer scope (line 396) (redefined-outer-name)
app/tests/conftest.py:659:4: W0621: Redefining name 'sample_rack_data' from outer scope (line 414) (redefined-outer-name)
app/tests/conftest.py:660:4: W0621: Redefining name 'sample_shelf_data' from outer scope (line 431) (redefined-outer-name)
app/tests/conftest.py:661:4: W0621: Redefining name 'sample_sensor_device_data' from outer scope (line 448) (redefined-outer-name)
app/tests/conftest.py:662:4: W0621: Redefining name 'sample_device_assignment' from outer scope (line 554) (redefined-outer-name)
app/tests/conftest.py:683:4: W0621: Redefining name 'mock_user' from outer scope (line 323) (redefined-outer-name)
app/tests/conftest.py:684:4: W0621: Redefining name 'sample_home_assistant_config' from outer scope (line 505) (redefined-outer-name)
app/tests/conftest.py:685:4: W0621: Redefining name 'sample_device_assignment' from outer scope (line 554) (redefined-outer-name)
app/tests/conftest.py:686:4: W0621: Redefining name 'sample_background_task_data' from outer scope (line 602) (redefined-outer-name)
************* Module vertical-farm.backend.app.tests.unit.test_crud_operations
app/tests/unit/test_crud_operations.py:148:0: C0301: Line too long (105/100) (line-too-long)
app/tests/unit/test_crud_operations.py:50:8: C0415: Import outside toplevel (app.schemas.farm.FarmCreate) (import-outside-toplevel)
app/tests/unit/test_crud_operations.py:52:21: W0612: Unused variable 'mock_table' (unused-variable)
app/tests/unit/test_crud_operations.py:112:21: W0612: Unused variable 'mock_table' (unused-variable)
app/tests/unit/test_crud_operations.py:124:8: C0415: Import outside toplevel (app.schemas.farm.FarmUpdate) (import-outside-toplevel)
app/tests/unit/test_crud_operations.py:126:33: W0612: Unused variable 'mock_response' (unused-variable)
app/tests/unit/test_crud_operations.py:163:33: W0612: Unused variable 'mock_response' (unused-variable)
app/tests/unit/test_crud_operations.py:251:48: W0612: Unused variable 'mock_auth' (unused-variable)
app/tests/unit/test_crud_operations.py:268:8: C0415: Import outside toplevel (app.schemas.user.UserCreate) (import-outside-toplevel)
app/tests/unit/test_crud_operations.py:270:21: W0612: Unused variable 'mock_table' (unused-variable)
app/tests/unit/test_crud_operations.py:313:8: C0415: Import outside toplevel (app.schemas.user.UserUpdate) (import-outside-toplevel)
app/tests/unit/test_crud_operations.py:315:21: W0612: Unused variable 'mock_table' (unused-variable)
app/tests/unit/test_crud_operations.py:315:48: W0612: Unused variable 'mock_auth' (unused-variable)
************* Module vertical-farm.backend.app.tests.integration.test_background_queue_basic
app/tests/integration/test_background_queue_basic.py:27:0: W0613: Unused argument 'args' (unused-argument)
app/tests/integration/test_background_queue_basic.py:27:0: W0613: Unused argument 'kwargs' (unused-argument)
************* Module vertical-farm.backend.app.tests.integration.test_integration_features
app/tests/integration/test_integration_features.py:262:0: C0301: Line too long (103/100) (line-too-long)
app/tests/integration/test_integration_features.py:25:0: C0115: Missing class docstring (missing-class-docstring)
app/tests/integration/test_integration_features.py:71:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:58:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:96:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:81:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:133:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:159:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:143:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:189:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:177:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:211:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:199:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:245:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:229:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:270:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/tests/integration/test_integration_features.py:255:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/tests/integration/test_integration_features.py:340:11: W0718: Catching too general exception Exception (broad-exception-caught)
************* Module vertical-farm.backend.app.tests.api.test_home_assistant_devices
app/tests/api/test_home_assistant_devices.py:93:8: C0415: Import outside toplevel (app.api.v1.endpoints.home_assistant.get_current_user, app.api.v1.endpoints.home_assistant.get_user_home_assistant_service) (import-outside-toplevel)
************* Module vertical-farm.backend.app.tests.api.test_main_endpoints
app/tests/api/test_main_endpoints.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/tests/api/test_main_endpoints.py:6:37: W0613: Unused argument 'setup_test_environment' (unused-argument)
app/tests/api/test_main_endpoints.py:19:29: W0613: Unused argument 'setup_test_environment' (unused-argument)
app/tests/api/test_main_endpoints.py:30:29: W0613: Unused argument 'setup_test_environment' (unused-argument)
app/tests/api/test_main_endpoints.py:41:41: W0613: Unused argument 'setup_test_environment' (unused-argument)
app/tests/api/test_main_endpoints.py:50:34: W0613: Unused argument 'setup_test_environment' (unused-argument)
************* Module vertical-farm.backend.app.tests.api.test_home_assistant_health
app/tests/api/test_home_assistant_health.py:55:8: C0415: Import outside toplevel (app.api.v1.endpoints.home_assistant.get_current_user, app.api.v1.endpoints.home_assistant.get_user_home_assistant_service) (import-outside-toplevel)
************* Module vertical-farm.backend.app.models.user
app/models/user.py:46:45: E1101: Class 'UserRole' has no 'MANAGER' member (no-member)
************* Module vertical-farm.backend.app.models.enums
app/models/enums.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/models/enums.py:4:0: C0115: Missing class docstring (missing-class-docstring)
app/models/enums.py:10:0: C0115: Missing class docstring (missing-class-docstring)
app/models/enums.py:17:0: C0115: Missing class docstring (missing-class-docstring)
app/models/enums.py:22:0: C0115: Missing class docstring (missing-class-docstring)
app/models/enums.py:27:0: C0115: Missing class docstring (missing-class-docstring)
app/models/enums.py:32:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.models.user_permission
app/models/user_permission.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/models/user_permission.py:19:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.models
app/models/__init__.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module vertical-farm.backend.app.models.home_assistant
app/models/home_assistant.py:71:4: C0116: Missing function or method docstring (missing-function-docstring)
app/models/home_assistant.py:91:4: C0116: Missing function or method docstring (missing-function-docstring)
app/models/home_assistant.py:113:4: C0116: Missing function or method docstring (missing-function-docstring)
app/models/home_assistant.py:120:4: C0116: Missing function or method docstring (missing-function-docstring)
app/models/home_assistant.py:230:4: C0116: Missing function or method docstring (missing-function-docstring)
************* Module vertical-farm.backend.app.schemas.grow_automation_schemas
app/schemas/grow_automation_schemas.py:13:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:14:4: C0103: Class constant name "daily" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:15:4: C0103: Class constant name "weekly" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:16:4: C0103: Class constant name "stage_based" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:17:4: C0103: Class constant name "custom" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:20:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:21:4: C0103: Class constant name "above" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:22:4: C0103: Class constant name "below" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:23:4: C0103: Class constant name "between" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:24:4: C0103: Class constant name "equals" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:27:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:28:4: C0103: Class constant name "turn_on" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:29:4: C0103: Class constant name "turn_off" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:30:4: C0103: Class constant name "set_brightness" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:31:4: C0103: Class constant name "set_temperature" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:32:4: C0103: Class constant name "set_speed" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:33:4: C0103: Class constant name "set_value" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:36:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:37:4: C0103: Class constant name "pending" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:38:4: C0103: Class constant name "success" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:39:4: C0103: Class constant name "failed" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:40:4: C0103: Class constant name "skipped" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:43:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:44:4: C0103: Class constant name "rule" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:45:4: C0103: Class constant name "schedule" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:46:4: C0103: Class constant name "condition" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:47:4: C0103: Class constant name "manual" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:50:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:51:4: C0103: Class constant name "light" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:52:4: C0103: Class constant name "pump" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:53:4: C0103: Class constant name "fan" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:54:4: C0103: Class constant name "sensor" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:55:4: C0103: Class constant name "actuator" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:56:4: C0103: Class constant name "switch" doesn't conform to UPPER_CASE naming style (invalid-name)
app/schemas/grow_automation_schemas.py:60:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:66:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:66:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/grow_automation_schemas.py:77:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:89:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/grow_automation_schemas.py:96:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/grow_automation_schemas.py:101:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:101:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/grow_automation_schemas.py:117:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:127:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:141:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/grow_automation_schemas.py:155:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/grow_automation_schemas.py:166:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/grow_automation_schemas.py:172:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:172:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/grow_automation_schemas.py:189:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:201:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:208:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:208:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/grow_automation_schemas.py:226:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:240:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/grow_automation_schemas.py:249:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:262:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:278:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:297:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:311:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:319:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:331:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:341:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:355:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:364:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:364:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/grow_automation_schemas.py:381:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:386:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:386:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/grow_automation_schemas.py:401:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:407:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:413:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/grow_automation_schemas.py:419:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.user
app/schemas/user.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/user.py:8:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user.py:16:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user.py:22:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user.py:26:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user.py:34:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user.py:39:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.rack
app/schemas/rack.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/rack.py:9:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/rack.py:20:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/rack.py:31:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/rack.py:42:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/rack.py:56:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/rack.py:61:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.shelf
app/schemas/shelf.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/shelf.py:9:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/shelf.py:19:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/shelf.py:29:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/shelf.py:39:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/shelf.py:52:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/shelf.py:57:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.sensor
app/schemas/sensor.py:28:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor.py:28:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/sensor.py:42:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor.py:42:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/sensor.py:60:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor.py:60:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/sensor.py:73:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor.py:73:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/sensor.py:88:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor.py:88:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/sensor.py:100:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor.py:100:4: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module vertical-farm.backend.app.schemas.token
app/schemas/token.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/token.py:6:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/token.py:13:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.fan
app/schemas/fan.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/fan.py:7:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/fan.py:22:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/fan.py:29:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/fan.py:43:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/fan.py:52:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/fan.py:56:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.farm
app/schemas/farm.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/farm.py:10:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:21:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:26:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:31:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:44:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:49:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:56:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/farm.py:62:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.user_permission
app/schemas/user_permission.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/user_permission.py:9:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user_permission.py:15:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user_permission.py:21:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user_permission.py:25:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user_permission.py:36:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/user_permission.py:41:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas
app/schemas/__init__.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module vertical-farm.backend.app.schemas.sensor_device
app/schemas/sensor_device.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/sensor_device.py:9:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor_device.py:37:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/sensor_device.py:37:4: E0213: Method 'check_data_range' should have "self" as first argument (no-self-argument)
app/schemas/sensor_device.py:46:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor_device.py:64:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor_device.py:91:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/sensor_device.py:91:4: E0213: Method 'check_data_range_update' should have "self" as first argument (no-self-argument)
app/schemas/sensor_device.py:103:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor_device.py:113:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/sensor_device.py:117:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.square
app/schemas/square.py:106:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/square.py:106:4: R0903: Too few public methods (0/2) (too-few-public-methods)
app/schemas/square.py:148:4: C0115: Missing class docstring (missing-class-docstring)
app/schemas/square.py:148:4: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module vertical-farm.backend.app.schemas.row
app/schemas/row.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/schemas/row.py:10:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/row.py:20:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/row.py:30:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/row.py:40:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/row.py:53:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/row.py:58:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.schemas.device_schemas
app/schemas/device_schemas.py:12:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:19:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:27:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:32:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:37:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:42:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:47:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:55:4: C0116: Missing function or method docstring (missing-function-docstring)
app/schemas/device_schemas.py:62:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:79:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:101:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:129:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:137:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:143:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:148:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:156:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:169:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:179:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:186:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:192:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:200:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:214:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:220:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:226:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:232:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:239:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:246:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:254:0: C0115: Missing class docstring (missing-class-docstring)
app/schemas/device_schemas.py:259:0: C0115: Missing class docstring (missing-class-docstring)
************* Module vertical-farm.backend.app.crud.crud_row
app/crud/crud_row.py:126:0: C0301: Line too long (105/100) (line-too-long)
app/crud/crud_row.py:152:0: C0301: Line too long (130/100) (line-too-long)
app/crud/crud_row.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_row.py:16:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_row.py:19:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:19:50: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_row.py:34:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_row.py:38:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:56:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_row.py:60:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:89:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:109:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_row.py:113:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:129:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_row.py:127:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_row.py:133:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:134:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_row.py:155:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_row.py:159:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_row.py:160:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_row.py:172:8: W0706: The except handler raises immediately (try-except-raise)
************* Module vertical-farm.backend.app.crud
app/crud/__init__.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module vertical-farm.backend.app.crud.crud_shelf
app/crud/crud_shelf.py:87:0: C0301: Line too long (104/100) (line-too-long)
app/crud/crud_shelf.py:88:0: C0301: Line too long (104/100) (line-too-long)
app/crud/crud_shelf.py:131:0: C0301: Line too long (107/100) (line-too-long)
app/crud/crud_shelf.py:155:0: C0301: Line too long (116/100) (line-too-long)
app/crud/crud_shelf.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_shelf.py:20:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_shelf.py:23:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:23:50: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_shelf.py:38:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_shelf.py:42:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:60:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_shelf.py:64:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:97:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:117:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_shelf.py:121:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:136:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_shelf.py:132:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_shelf.py:140:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:141:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_shelf.py:158:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_shelf.py:162:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_shelf.py:163:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_shelf.py:175:8: W0706: The except handler raises immediately (try-except-raise)
************* Module vertical-farm.backend.app.crud.crud_fan
app/crud/crud_fan.py:81:0: C0301: Line too long (111/100) (line-too-long)
app/crud/crud_fan.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_fan.py:14:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_fan.py:17:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_fan.py:17:50: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_fan.py:31:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_fan.py:34:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_fan.py:34:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/crud/crud_fan.py:54:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_fan.py:58:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_fan.py:58:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/crud/crud_fan.py:80:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_fan.py:84:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_fan.py:104:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_fan.py:102:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_fan.py:108:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_fan.py:109:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_fan.py:131:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_fan.py:135:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_fan.py:136:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_fan.py:148:8: W0706: The except handler raises immediately (try-except-raise)
************* Module vertical-farm.backend.app.crud.crud_user
app/crud/crud_user.py:10:0: C0301: Line too long (114/100) (line-too-long)
app/crud/crud_user.py:21:0: C0301: Line too long (116/100) (line-too-long)
app/crud/crud_user.py:72:0: C0301: Line too long (119/100) (line-too-long)
app/crud/crud_user.py:83:0: C0301: Line too long (105/100) (line-too-long)
app/crud/crud_user.py:112:0: C0301: Line too long (124/100) (line-too-long)
app/crud/crud_user.py:114:0: C0301: Line too long (104/100) (line-too-long)
app/crud/crud_user.py:118:0: C0301: Line too long (124/100) (line-too-long)
app/crud/crud_user.py:119:0: C0301: Line too long (105/100) (line-too-long)
app/crud/crud_user.py:122:0: C0301: Line too long (103/100) (line-too-long)
app/crud/crud_user.py:124:0: C0301: Line too long (119/100) (line-too-long)
app/crud/crud_user.py:127:0: C0301: Line too long (116/100) (line-too-long)
app/crud/crud_user.py:131:0: C0301: Line too long (119/100) (line-too-long)
app/crud/crud_user.py:137:0: C0301: Line too long (118/100) (line-too-long)
app/crud/crud_user.py:155:0: C0301: Line too long (101/100) (line-too-long)
app/crud/crud_user.py:191:0: C0301: Line too long (166/100) (line-too-long)
app/crud/crud_user.py:192:0: C0301: Line too long (114/100) (line-too-long)
app/crud/crud_user.py:199:0: C0301: Line too long (108/100) (line-too-long)
app/crud/crud_user.py:201:0: C0301: Line too long (107/100) (line-too-long)
app/crud/crud_user.py:202:0: C0301: Line too long (116/100) (line-too-long)
app/crud/crud_user.py:204:0: C0301: Line too long (111/100) (line-too-long)
app/crud/crud_user.py:207:0: C0301: Line too long (168/100) (line-too-long)
app/crud/crud_user.py:234:0: C0301: Line too long (108/100) (line-too-long)
app/crud/crud_user.py:236:0: C0301: Line too long (109/100) (line-too-long)
app/crud/crud_user.py:239:0: C0301: Line too long (137/100) (line-too-long)
app/crud/crud_user.py:248:0: C0301: Line too long (115/100) (line-too-long)
app/crud/crud_user.py:249:0: C0301: Line too long (101/100) (line-too-long)
app/crud/crud_user.py:255:0: C0301: Line too long (115/100) (line-too-long)
app/crud/crud_user.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_user.py:16:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_user.py:20:50: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_user.py:63:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_user.py:67:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user.py:70:8: C0415: Import outside toplevel (app.schemas.user) (import-outside-toplevel)
app/crud/crud_user.py:72:8: W0105: String statement has no effect (pointless-string-statement)
app/crud/crud_user.py:157:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_user.py:90:12: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/crud/crud_user.py:113:30: E1123: Unexpected keyword argument 'status_code' in constructor call (unexpected-keyword-arg)
app/crud/crud_user.py:113:30: E1120: No value for argument 'status' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:113:30: E1120: No value for argument 'code' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:123:27: W0718: Catching too general exception Exception (broad-exception-caught)
app/crud/crud_user.py:126:26: E1123: Unexpected keyword argument 'status_code' in constructor call (unexpected-keyword-arg)
app/crud/crud_user.py:126:26: E1120: No value for argument 'status' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:126:26: E1120: No value for argument 'code' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:138:22: E1123: Unexpected keyword argument 'status_code' in constructor call (unexpected-keyword-arg)
app/crud/crud_user.py:138:22: E1120: No value for argument 'status' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:138:22: E1120: No value for argument 'code' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:149:22: E1123: Unexpected keyword argument 'status_code' in constructor call (unexpected-keyword-arg)
app/crud/crud_user.py:149:22: E1120: No value for argument 'status' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:149:22: E1120: No value for argument 'code' in constructor call (no-value-for-parameter)
app/crud/crud_user.py:161:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user.py:168:8: C0415: Import outside toplevel (app.schemas.user) (import-outside-toplevel)
app/crud/crud_user.py:170:8: W0105: String statement has no effect (pointless-string-statement)
app/crud/crud_user.py:220:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_user.py:197:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/crud/crud_user.py:244:8: W0706: The except handler raises immediately (try-except-raise)
************* Module vertical-farm.backend.app.crud.crud_rack
app/crud/crud_rack.py:109:0: C0301: Line too long (104/100) (line-too-long)
app/crud/crud_rack.py:131:0: C0301: Line too long (132/100) (line-too-long)
app/crud/crud_rack.py:164:0: C0301: Line too long (102/100) (line-too-long)
app/crud/crud_rack.py:175:0: C0301: Line too long (136/100) (line-too-long)
app/crud/crud_rack.py:185:0: C0301: Line too long (103/100) (line-too-long)
app/crud/crud_rack.py:204:0: C0301: Line too long (110/100) (line-too-long)
app/crud/crud_rack.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_rack.py:15:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_rack.py:18:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:18:50: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_rack.py:33:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_rack.py:37:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:50:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_rack.py:54:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:82:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:97:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_rack.py:101:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:112:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_rack.py:110:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_rack.py:116:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:117:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_rack.py:134:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_rack.py:138:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_rack.py:139:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_rack.py:151:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_rack.py:162:39: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_rack.py:162:19: W0613: Unused argument 'db' (unused-argument)
app/crud/crud_rack.py:172:4: W0613: Unused argument 'db' (unused-argument)
app/crud/crud_rack.py:183:22: W0613: Unused argument 'db' (unused-argument)
app/crud/crud_rack.py:200:24: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_rack.py:200:4: W0613: Unused argument 'db' (unused-argument)
app/crud/crud_rack.py:211:42: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_rack.py:211:22: W0613: Unused argument 'db' (unused-argument)
************* Module vertical-farm.backend.app.crud.crud_sensor_device
app/crud/crud_sensor_device.py:58:0: C0301: Line too long (110/100) (line-too-long)
app/crud/crud_sensor_device.py:84:0: C0301: Line too long (121/100) (line-too-long)
app/crud/crud_sensor_device.py:111:0: C0301: Line too long (109/100) (line-too-long)
app/crud/crud_sensor_device.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_sensor_device.py:17:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_sensor_device.py:20:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_sensor_device.py:20:50: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_sensor_device.py:34:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_sensor_device.py:37:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_sensor_device.py:37:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/crud/crud_sensor_device.py:57:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_sensor_device.py:61:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_sensor_device.py:61:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/crud/crud_sensor_device.py:83:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_sensor_device.py:87:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_sensor_device.py:110:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_sensor_device.py:106:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_sensor_device.py:114:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_sensor_device.py:115:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_sensor_device.py:136:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_sensor_device.py:140:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_sensor_device.py:141:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_sensor_device.py:153:8: W0706: The except handler raises immediately (try-except-raise)
************* Module vertical-farm.backend.app.crud.crud_farm
app/crud/crud_farm.py:13:0: C0301: Line too long (118/100) (line-too-long)
app/crud/crud_farm.py:42:0: C0301: Line too long (102/100) (line-too-long)
app/crud/crud_farm.py:156:0: C0301: Line too long (101/100) (line-too-long)
app/crud/crud_farm.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_farm.py:20:0: C0115: Missing class docstring (missing-class-docstring)
app/crud/crud_farm.py:23:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_farm.py:24:40: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_farm.py:57:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_farm.py:61:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_farm.py:79:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_farm.py:83:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_farm.py:107:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_farm.py:111:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_farm.py:131:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_farm.py:129:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_farm.py:135:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_farm.py:136:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_farm.py:163:8: W0706: The except handler raises immediately (try-except-raise)
app/crud/crud_farm.py:167:4: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_farm.py:168:43: W0622: Redefining built-in 'id' (redefined-builtin)
app/crud/crud_farm.py:186:8: W0706: The except handler raises immediately (try-except-raise)
************* Module vertical-farm.backend.app.crud.crud_user_permission
app/crud/crud_user_permission.py:119:0: C0301: Line too long (111/100) (line-too-long)
app/crud/crud_user_permission.py:172:0: C0301: Line too long (107/100) (line-too-long)
app/crud/crud_user_permission.py:190:0: C0301: Line too long (104/100) (line-too-long)
app/crud/crud_user_permission.py:191:0: C0301: Line too long (110/100) (line-too-long)
app/crud/crud_user_permission.py:170:5: W0511: TODO: Re-implement platform admin check without SQLAlchemy User model (fixme)
app/crud/crud_user_permission.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/crud/crud_user_permission.py:22:0: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user_permission.py:42:0: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user_permission.py:62:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/crud/crud_user_permission.py:67:0: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user_permission.py:84:0: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user_permission.py:103:4: W0719: Raising too general exception: Exception (broad-exception-raised)
app/crud/crud_user_permission.py:106:0: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user_permission.py:143:0: C0116: Missing function or method docstring (missing-function-docstring)
app/crud/crud_user_permission.py:167:0: C0116: Missing function or method docstring (missing-function-docstring)
************* Module vertical-farm.backend.app.db
app/db/__init__.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module vertical-farm.backend.app.db.supabase_client
app/db/supabase_client.py:30:0: C0301: Line too long (101/100) (line-too-long)
app/db/supabase_client.py:33:0: C0301: Line too long (107/100) (line-too-long)
app/db/supabase_client.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/db/supabase_client.py:24:0: C0116: Missing function or method docstring (missing-function-docstring)
app/db/supabase_client.py:28:0: C0116: Missing function or method docstring (missing-function-docstring)
************* Module vertical-farm.backend.app.api.v1.grow_automation
app/api/v1/grow_automation.py:69:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:70:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:31:4: W0613: Unused argument 'automation_config' (unused-argument)
app/api/v1/grow_automation.py:108:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:109:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:167:35: W0212: Access to a protected member _get_grow_device_assignments of a client class (protected-access)
app/api/v1/grow_automation.py:188:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:189:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:242:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:243:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:298:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:299:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:344:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:345:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:332:8: W0612: Unused variable 'response' (unused-variable)
app/api/v1/grow_automation.py:398:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:399:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:446:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:447:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:508:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:509:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:543:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:544:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/grow_automation.py:577:8: C0415: Import outside toplevel (app.services.device_monitoring_service.device_monitoring_service) (import-outside-toplevel)
app/api/v1/grow_automation.py:577:8: E0611: No name 'device_monitoring_service' in module 'app.services.device_monitoring_service' (no-name-in-module)
app/api/v1/grow_automation.py:612:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/grow_automation.py:613:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Internal server error') from e' (raise-missing-from)
************* Module vertical-farm.backend.app.api.v1.api
app/api/v1/api.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module vertical-farm.backend.app.api.v1.sensors_cached
app/api/v1/sensors_cached.py:85:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching sensor readings: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:160:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching sensor history: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:226:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching sensor aggregates: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:257:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching species data: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:288:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching plant varieties data: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:319:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching grow recipes data: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:354:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/sensors_cached.py:366:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error invalidating cache: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:403:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Error fetching cache stats: {str(e)}') from e' (raise-missing-from)
app/api/v1/sensors_cached.py:373:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/sensors_cached.py:374:4: W0613: Unused argument 'cache_service' (unused-argument)
************* Module vertical-farm.backend.app.api.v1.devices
app/api/v1/devices.py:71:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/devices.py:72:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:75:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/devices.py:104:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:105:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get device assignments') from e' (raise-missing-from)
app/api/v1/devices.py:128:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:129:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to create device assignment') from e' (raise-missing-from)
app/api/v1/devices.py:166:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:167:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to update device assignment') from e' (raise-missing-from)
app/api/v1/devices.py:192:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:193:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to delete device assignment') from e' (raise-missing-from)
app/api/v1/devices.py:217:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:218:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get location devices') from e' (raise-missing-from)
app/api/v1/devices.py:251:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:252:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to control device') from e' (raise-missing-from)
app/api/v1/devices.py:278:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:279:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Emergency stop failed') from e' (raise-missing-from)
app/api/v1/devices.py:306:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:307:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get service health') from e' (raise-missing-from)
app/api/v1/devices.py:337:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:338:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get device states') from e' (raise-missing-from)
app/api/v1/devices.py:349:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/devices.py:350:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/devices.py:342:35: W0613: Unused argument 'token' (unused-argument)
************* Module vertical-farm.backend.app.api.v1.endpoints.farm_automation
app/api/v1/endpoints/farm_automation.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/api/v1/endpoints/farm_automation.py:18:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:25:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:33:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:38:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:45:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:52:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:60:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:67:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:75:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:80:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:88:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/farm_automation.py:120:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule irrigation: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:103:40: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:145:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule lighting: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:127:35: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:168:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule monitoring: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:189:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule harvest check: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:175:34: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:212:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to trigger automation rule: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:196:36: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:238:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule alert: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:261:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule climate control: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:245:36: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:284:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to setup automation: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:269:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:305:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule farm tasks: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:325:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to get task status: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:311:40: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:336:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/farm_automation.py:342:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to cancel task: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:331:36: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:366:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to get task summary: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:347:18: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:395:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to process sensor reading: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:377:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:401:0: R0913: Too many arguments (7/5) (too-many-arguments)
app/api/v1/endpoints/farm_automation.py:401:0: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
app/api/v1/endpoints/farm_automation.py:421:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/farm_automation.py:434:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to handle sensor threshold: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:408:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:462:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to test irrigation: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:444:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:490:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to test lighting: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/farm_automation.py:471:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/farm_automation.py:508:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Health check failed: {str(e)}') from e' (raise-missing-from)
************* Module vertical-farm.backend.app.api.v1.endpoints.supabase_background_tasks
app/api/v1/endpoints/supabase_background_tasks.py:16:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/supabase_background_tasks.py:23:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/supabase_background_tasks.py:28:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/supabase_background_tasks.py:34:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/supabase_background_tasks.py:57:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to queue task: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:68:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to get system status: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:90:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to get queue stats: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:107:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to get task logs: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:120:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to get functions: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:134:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to trigger processing: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:147:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to trigger scheduling: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:160:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to trigger cleanup: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:176:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule discovery: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:191:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule sync: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:206:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule health check: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:226:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule bulk control: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:245:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule data collection: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:278:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule morning routine: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:299:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule harvest mode: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/supabase_background_tasks.py:320:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Failed to schedule maintenance mode: {str(e)}') from e' (raise-missing-from)
************* Module vertical-farm.backend.app.api.v1.endpoints.square
app/api/v1/endpoints/square.py:771:0: C0301: Line too long (118/100) (line-too-long)
app/api/v1/endpoints/square.py:875:0: C0301: Line too long (114/100) (line-too-long)
app/api/v1/endpoints/square.py:920:0: C0301: Line too long (109/100) (line-too-long)
app/api/v1/endpoints/square.py:1219:0: C0301: Line too long (103/100) (line-too-long)
app/api/v1/endpoints/square.py:2725:0: C0301: Line too long (101/100) (line-too-long)
app/api/v1/endpoints/square.py:1:0: C0302: Too many lines in module (2861/1000) (too-many-lines)
app/api/v1/endpoints/square.py:42:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:58:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:65:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:73:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:85:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:96:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:107:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:118:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:128:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:138:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:147:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:159:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:170:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:183:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:197:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:210:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:223:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:239:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:258:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:272:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:278:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:292:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:303:0: C0115: Missing class docstring (missing-class-docstring)
app/api/v1/endpoints/square.py:356:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:345:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:357:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:362:4: R0913: Too many arguments (7/5) (too-many-arguments)
app/api/v1/endpoints/square.py:362:4: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
app/api/v1/endpoints/square.py:412:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:413:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:428:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:429:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:468:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:469:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:472:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/api/v1/endpoints/square.py:472:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/api/v1/endpoints/square.py:486:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:487:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:514:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:515:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:560:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:555:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:561:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:608:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:611:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/api/v1/endpoints/square.py:614:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:617:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/api/v1/endpoints/square.py:617:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/api/v1/endpoints/square.py:640:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:641:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:657:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:658:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:681:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:684:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/api/v1/endpoints/square.py:687:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:715:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:735:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:782:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:750:16: R1723: Unnecessary "else" after "break", remove the "else" and de-indent the code inside it (no-else-break)
app/api/v1/endpoints/square.py:783:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:800:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:829:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:830:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch Square configurations') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:851:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:852:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:870:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:923:23: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:919:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:925:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:937:27: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:938:24: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:949:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:951:16: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=400, detail='A configuration with this name or application ID already exists') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:955:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to create Square configuration') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:984:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:985:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to update Square configuration') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1003:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1004:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to delete Square configuration') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1008:4: R0914: Too many local variables (19/15) (too-many-locals)
app/api/v1/endpoints/square.py:1092:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1020:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1062:31: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1063:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1093:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1102:4: R0914: Too many local variables (16/15) (too-many-locals)
app/api/v1/endpoints/square.py:1129:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1130:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1140:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1180:31: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1181:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1185:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1194:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1195:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1199:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1200:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch locations') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1202:4: R0914: Too many local variables (20/15) (too-many-locals)
app/api/v1/endpoints/square.py:1218:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1235:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1278:31: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1279:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1283:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1292:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1293:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1297:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1298:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch products') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1300:4: R0914: Too many local variables (16/15) (too-many-locals)
app/api/v1/endpoints/square.py:1316:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1336:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1386:31: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1387:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1391:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1400:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1401:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1405:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1406:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch customers') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1408:4: R0914: Too many local variables (18/15) (too-many-locals)
app/api/v1/endpoints/square.py:1430:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1454:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1501:31: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1502:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1506:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1515:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1516:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1520:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1521:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch orders') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1523:4: R0914: Too many local variables (18/15) (too-many-locals)
app/api/v1/endpoints/square.py:1545:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1566:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1611:31: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/square.py:1612:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1616:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1625:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1626:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1630:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1631:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch payments') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1653:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1678:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1687:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1688:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1692:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1693:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch inventory') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1714:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1747:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1756:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1757:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1761:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1762:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch refunds') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1773:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1812:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1821:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1822:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1826:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1827:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch disputes') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1847:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1885:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1894:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1895:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1899:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1900:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch subscriptions') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1923:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:1968:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1977:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1978:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1982:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:1983:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch invoices') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:1996:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:2030:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2039:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2040:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2044:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2045:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch team members') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2068:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:2120:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2129:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2130:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2134:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2135:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch labor data') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2146:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:2171:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2180:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2181:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2185:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2186:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch merchants') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2207:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:2241:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2250:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2251:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=503, detail='Unable to connect to Square API') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2255:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2256:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to fetch payouts') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:317:0: R0904: Too many public methods (27/20) (too-many-public-methods)
app/api/v1/endpoints/square.py:2294:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2304:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2313:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2319:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:2325:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2326:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Internal server error') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2374:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2375:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to register webhook') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2395:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2396:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get webhook configuration') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2412:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2413:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to test webhook') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2403:4: W0613: Unused argument 'current_user' (unused-argument)
app/api/v1/endpoints/square.py:2403:52: W0613: Unused argument 'db' (unused-argument)
app/api/v1/endpoints/square.py:2432:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2433:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to invalidate cache') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2461:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2462:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get webhook events') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2530:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/square.py:2531:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail='Failed to get webhook health') from e' (raise-missing-from)
app/api/v1/endpoints/square.py:2707:4: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/api/v1/endpoints/square.py:2732:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
************* Module vertical-farm.backend.app.api.v1.endpoints.home_assistant
app/api/v1/endpoints/home_assistant.py:167:0: C0301: Line too long (106/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:232:0: C0301: Line too long (106/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:263:0: C0301: Line too long (109/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:687:0: C0301: Line too long (106/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:743:0: C0301: Line too long (104/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:760:0: C0301: Line too long (105/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:936:0: C0301: Line too long (113/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:1067:0: C0301: Line too long (108/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:1088:0: C0301: Line too long (103/100) (line-too-long)
app/api/v1/endpoints/home_assistant.py:1:0: C0302: Too many lines in module (1325/1000) (too-many-lines)
app/api/v1/endpoints/home_assistant.py:68:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:71:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to retrieve integration status') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:107:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:108:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:165:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:166:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:171:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:180:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:181:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to discover devices') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:230:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:231:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:249:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:250:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to retrieve devices') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:265:0: R0914: Too many local variables (20/15) (too-many-locals)
app/api/v1/endpoints/home_assistant.py:356:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:357:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:371:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:372:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to import devices: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:437:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:438:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to get imported devices: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:496:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:497:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to update imported device: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:537:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:538:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to remove imported device: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:586:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:589:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to retrieve device details') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:629:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:632:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to control device: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:685:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:686:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:696:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:697:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to retrieve sensor data') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:734:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:735:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to manage subscription for {request.entity_id}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:811:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:813:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:824:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:825:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=str(e)) from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:829:0: R0913: Too many arguments (6/5) (too-many-arguments)
app/api/v1/endpoints/home_assistant.py:829:0: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/api/v1/endpoints/home_assistant.py:839:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:865:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:872:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:873:8: C0415: Import outside toplevel (traceback) (import-outside-toplevel)
app/api/v1/endpoints/home_assistant.py:875:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:876:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=f'Unexpected error: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:907:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:909:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:919:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:920:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=str(e)) from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:955:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:956:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:968:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:969:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=str(e)) from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:1016:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1017:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to retrieve configurations') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:1029:0: R0914: Too many local variables (16/15) (too-many-locals)
app/api/v1/endpoints/home_assistant.py:1099:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:1104:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1142:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1143:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1144:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to create configuration: {str(e)}') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:1192:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/api/v1/endpoints/home_assistant.py:1193:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1281:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1282:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to update configuration') from e' (raise-missing-from)
app/api/v1/endpoints/home_assistant.py:1321:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/api/v1/endpoints/home_assistant.py:1322:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail='Failed to delete configuration') from e' (raise-missing-from)
************* Module vertical-farm.backend.app.services.farm_automation_service
app/services/farm_automation_service.py:457:0: C0301: Line too long (117/100) (line-too-long)
app/services/farm_automation_service.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/services/farm_automation_service.py:31:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:40:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/services/farm_automation_service.py:40:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/services/farm_automation_service.py:69:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:72:21: E1123: Unexpected keyword argument 'scheduled_for' in method call (unexpected-keyword-arg)
app/services/farm_automation_service.py:93:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:122:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:125:21: E1123: Unexpected keyword argument 'scheduled_for' in method call (unexpected-keyword-arg)
app/services/farm_automation_service.py:152:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:161:4: R0913: Too many arguments (7/5) (too-many-arguments)
app/services/farm_automation_service.py:161:4: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
app/services/farm_automation_service.py:185:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:207:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:234:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:267:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:271:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:312:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/farm_automation_service.py:313:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:329:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/farm_automation_service.py:330:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:341:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/farm_automation_service.py:338:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:342:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:360:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/farm_automation_service.py:361:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:410:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:414:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:418:0: R0913: Too many arguments (6/5) (too-many-arguments)
app/services/farm_automation_service.py:418:0: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/services/farm_automation_service.py:463:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/farm_automation_service.py:456:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/farm_automation_service.py:464:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
************* Module vertical-farm.backend.app.services.background_processor_redis_deprecated
app/services/background_processor_redis_deprecated.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/services/background_processor_redis_deprecated.py:14:0: E0401: Unable to import 'redis.asyncio' (import-error)
app/services/background_processor_redis_deprecated.py:52:4: C0116: Missing function or method docstring (missing-function-docstring)
app/services/background_processor_redis_deprecated.py:57:0: R0902: Too many instance attributes (14/7) (too-many-instance-attributes)
app/services/background_processor_redis_deprecated.py:81:4: C0116: Missing function or method docstring (missing-function-docstring)
app/services/background_processor_redis_deprecated.py:91:4: C0116: Missing function or method docstring (missing-function-docstring)
app/services/background_processor_redis_deprecated.py:114:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:125:0: R0902: Too many instance attributes (10/7) (too-many-instance-attributes)
app/services/background_processor_redis_deprecated.py:161:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:164:12: E1123: Unexpected keyword argument 'max_failures' in method call (unexpected-keyword-arg)
app/services/background_processor_redis_deprecated.py:164:12: E1123: Unexpected keyword argument 'circuit_breaker_timeout' in method call (unexpected-keyword-arg)
app/services/background_processor_redis_deprecated.py:177:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:197:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:234:4: R0913: Too many arguments (8/5) (too-many-arguments)
app/services/background_processor_redis_deprecated.py:279:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:300:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:353:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:372:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/background_processor_redis_deprecated.py:373:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:376:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:386:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:419:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/background_processor_redis_deprecated.py:395:27: E1121: Too many positional arguments for method call (too-many-function-args)
app/services/background_processor_redis_deprecated.py:417:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:424:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:444:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:455:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:466:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/background_processor_redis_deprecated.py:505:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/background_processor_redis_deprecated.py:499:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:506:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/background_processor_redis_deprecated.py:490:31: W0612: Unused variable 'score' (unused-variable)
app/services/background_processor_redis_deprecated.py:555:8: W0212: Access to a protected member _background_task_config of a client class (protected-access)
************* Module vertical-farm.backend.app.services.supabase_background_service
app/services/supabase_background_service.py:18:0: C0115: Missing class docstring (missing-class-docstring)
app/services/supabase_background_service.py:27:0: C0115: Missing class docstring (missing-class-docstring)
app/services/supabase_background_service.py:42:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/services/supabase_background_service.py:42:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/services/supabase_background_service.py:78:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/supabase_background_service.py:81:12: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/supabase_background_service.py:54:8: W0612: Unused variable 'task_message' (unused-variable)
app/services/supabase_background_service.py:88:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/supabase_background_service.py:137:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/supabase_background_service.py:140:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/supabase_background_service.py:143:12: W0707: Consider explicitly re-raising using 'raise Exception(f'Error triggering queue processing: {str(e)}') from e' (raise-missing-from)
app/services/supabase_background_service.py:143:12: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/supabase_background_service.py:158:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/supabase_background_service.py:161:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/supabase_background_service.py:164:12: W0707: Consider explicitly re-raising using 'raise Exception(f'Error scheduling recurring tasks: {str(e)}') from e' (raise-missing-from)
app/services/supabase_background_service.py:164:12: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/supabase_background_service.py:179:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/supabase_background_service.py:182:16: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/supabase_background_service.py:185:12: W0707: Consider explicitly re-raising using 'raise Exception(f'Error cleaning up tasks: {str(e)}') from e' (raise-missing-from)
app/services/supabase_background_service.py:185:12: W0719: Raising too general exception: Exception (broad-exception-raised)
************* Module vertical-farm.backend.app.services.home_assistant_service
app/services/home_assistant_service.py:96:0: C0301: Line too long (102/100) (line-too-long)
app/services/home_assistant_service.py:102:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_service.py:86:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:103:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:147:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:153:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:154:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
app/services/home_assistant_service.py:167:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:171:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:172:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
app/services/home_assistant_service.py:186:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:190:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:191:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
app/services/home_assistant_service.py:217:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:221:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:222:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
app/services/home_assistant_service.py:213:12: W0612: Unused variable 'result' (unused-variable)
app/services/home_assistant_service.py:245:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:249:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:250:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
app/services/home_assistant_service.py:241:12: W0612: Unused variable 'result' (unused-variable)
app/services/home_assistant_service.py:273:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:277:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:278:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
app/services/home_assistant_service.py:269:12: W0612: Unused variable 'result' (unused-variable)
app/services/home_assistant_service.py:295:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/services/home_assistant_service.py:333:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/services/home_assistant_service.py:358:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:362:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:370:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:396:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_service.py:397:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:428:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_service.py:429:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=502, detail=f'Home Assistant error: {e}') from e' (raise-missing-from)
************* Module vertical-farm.backend.app.services.home_assistant_client
app/services/home_assistant_client.py:78:0: C0301: Line too long (106/100) (line-too-long)
app/services/home_assistant_client.py:260:0: C0301: Line too long (102/100) (line-too-long)
app/services/home_assistant_client.py:342:0: C0301: Line too long (101/100) (line-too-long)
app/services/home_assistant_client.py:39:0: W0622: Redefining built-in 'ConnectionError' (redefined-builtin)
app/services/home_assistant_client.py:43:0: R0902: Too many instance attributes (17/7) (too-many-instance-attributes)
app/services/home_assistant_client.py:56:4: R0913: Too many arguments (9/5) (too-many-arguments)
app/services/home_assistant_client.py:56:4: R0917: Too many positional arguments (9/5) (too-many-positional-arguments)
app/services/home_assistant_client.py:170:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:175:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:209:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:211:12: W0707: Consider explicitly re-raising using 'raise ConnectionError(f'Failed to initialize: {e}') from e' (raise-missing-from)
app/services/home_assistant_client.py:251:16: R1720: Unnecessary "elif" after "raise", remove the leading "el" from "elif" (no-else-raise)
app/services/home_assistant_client.py:259:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:271:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
app/services/home_assistant_client.py:272:16: W0707: Consider explicitly re-raising using 'raise AuthenticationError(e.message) from e' (raise-missing-from)
app/services/home_assistant_client.py:272:42: E1101: Instance of 'HomeAssistantError' has no 'message' member (no-member)
app/services/home_assistant_client.py:274:16: W0707: Consider explicitly re-raising using 'raise ConnectionError(e.message) from e' (raise-missing-from)
app/services/home_assistant_client.py:274:38: E1101: Instance of 'HomeAssistantError' has no 'message' member (no-member)
app/services/home_assistant_client.py:305:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_client.py:294:16: R1723: Unnecessary "elif" after "break", remove the leading "el" from "elif" (no-else-break)
app/services/home_assistant_client.py:306:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:311:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:378:23: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_client.py:377:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:379:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:382:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:386:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:412:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:435:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_client.py:430:27: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_client.py:431:24: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:433:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:436:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:444:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:447:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:496:24: W1201: Use lazy % formatting in logging functions (logging-not-lazy)
app/services/home_assistant_client.py:534:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:554:28: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:564:24: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:632:24: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:680:24: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:751:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:768:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:770:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_client.py:841:15: W0718: Catching too general exception Exception (broad-exception-caught)
************* Module vertical-farm.backend.app.services.error_handling
app/services/error_handling.py:587:0: C0301: Line too long (106/100) (line-too-long)
app/services/error_handling.py:105:4: R0913: Too many arguments (8/5) (too-many-arguments)
app/services/error_handling.py:105:4: R0917: Too many positional arguments (8/5) (too-many-positional-arguments)
app/services/error_handling.py:147:0: R0902: Too many instance attributes (9/7) (too-many-instance-attributes)
app/services/error_handling.py:174:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/services/error_handling.py:208:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:220:0: R0902: Too many instance attributes (8/7) (too-many-instance-attributes)
app/services/error_handling.py:249:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:256:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:299:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/error_handling.py:300:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:342:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/error_handling.py:331:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:339:23: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/error_handling.py:336:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:340:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:343:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:347:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/services/error_handling.py:350:12: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/services/error_handling.py:345:4: R0911: Too many return statements (11/6) (too-many-return-statements)
app/services/error_handling.py:372:37: W0613: Unused argument 'context' (unused-argument)
app/services/error_handling.py:473:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/error_handling.py:474:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:536:12: C0415: Import outside toplevel (random) (import-outside-toplevel)
app/services/error_handling.py:568:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/error_handling.py:586:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/error_handling.py:588:60: E1101: Instance of 'HomeAssistantError' has no 'message' member (no-member)
app/services/error_handling.py:593:8: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
app/services/error_handling.py:662:28: C0201: Consider iterating the dictionary directly instead of calling .keys() (consider-iterating-dictionary)
app/services/error_handling.py:688:17: W1514: Using open without explicitly specifying an encoding (unspecified-encoding)
app/services/error_handling.py:690:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
************* Module vertical-farm.backend.app.services.home_assistant_background_tasks
app/services/home_assistant_background_tasks.py:69:0: C0301: Line too long (110/100) (line-too-long)
app/services/home_assistant_background_tasks.py:120:0: C0301: Line too long (111/100) (line-too-long)
app/services/home_assistant_background_tasks.py:265:0: C0301: Line too long (126/100) (line-too-long)
app/services/home_assistant_background_tasks.py:360:0: C0301: Line too long (103/100) (line-too-long)
app/services/home_assistant_background_tasks.py:400:0: C0301: Line too long (125/100) (line-too-long)
app/services/home_assistant_background_tasks.py:1:0: C0114: Missing module docstring (missing-module-docstring)
app/services/home_assistant_background_tasks.py:30:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:34:21: E1121: Too many positional arguments for constructor call (too-many-function-args)
app/services/home_assistant_background_tasks.py:37:25: E1101: Instance of 'UserHomeAssistantService' has no 'get_entities' member (no-member)
app/services/home_assistant_background_tasks.py:49:30: E1101: Instance of 'UserHomeAssistantService' has no 'get_entity_state' member (no-member)
app/services/home_assistant_background_tasks.py:68:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:74:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:92:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:95:21: E1121: Too many positional arguments for constructor call (too-many-function-args)
app/services/home_assistant_background_tasks.py:105:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_background_tasks.py:103:30: E1101: Instance of 'UserHomeAssistantService' has no 'get_entity_state' member (no-member)
app/services/home_assistant_background_tasks.py:106:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:119:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:125:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:142:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:171:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_background_tasks.py:145:21: E1121: Too many positional arguments for constructor call (too-many-function-args)
app/services/home_assistant_background_tasks.py:149:23: E1101: Instance of 'UserHomeAssistantService' has no 'get_config' member (no-member)
app/services/home_assistant_background_tasks.py:153:25: E1101: Instance of 'UserHomeAssistantService' has no 'get_entities' member (no-member)
app/services/home_assistant_background_tasks.py:166:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:172:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:198:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:203:21: E1121: Too many positional arguments for constructor call (too-many-function-args)
app/services/home_assistant_background_tasks.py:229:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_background_tasks.py:213:22: E1101: Instance of 'UserHomeAssistantService' has no 'call_service' member (no-member)
app/services/home_assistant_background_tasks.py:220:34: E1101: Instance of 'UserHomeAssistantService' has no 'get_entity_state' member (no-member)
app/services/home_assistant_background_tasks.py:230:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:264:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:270:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:274:0: R0913: Too many arguments (6/5) (too-many-arguments)
app/services/home_assistant_background_tasks.py:274:0: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/services/home_assistant_background_tasks.py:296:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:301:21: E1121: Too many positional arguments for constructor call (too-many-function-args)
app/services/home_assistant_background_tasks.py:304:29: E1101: Instance of 'UserHomeAssistantService' has no 'get_entity_state' member (no-member)
app/services/home_assistant_background_tasks.py:308:14: E1101: Instance of 'UserHomeAssistantService' has no 'call_service' member (no-member)
app/services/home_assistant_background_tasks.py:318:28: E1101: Instance of 'UserHomeAssistantService' has no 'get_entity_state' member (no-member)
app/services/home_assistant_background_tasks.py:332:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:338:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:359:4: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:364:21: E1121: Too many positional arguments for constructor call (too-many-function-args)
app/services/home_assistant_background_tasks.py:380:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/home_assistant_background_tasks.py:376:32: E1101: Instance of 'UserHomeAssistantService' has no 'get_entity_history' member (no-member)
app/services/home_assistant_background_tasks.py:381:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:399:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:405:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/home_assistant_background_tasks.py:421:4: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/home_assistant_background_tasks.py:423:21: E1101: Instance of 'SupabaseBackgroundService' has no 'schedule_task' member (no-member)
app/services/home_assistant_background_tasks.py:427:21: E1101: Instance of 'SupabaseBackgroundService' has no 'enqueue_task' member (no-member)
app/services/home_assistant_background_tasks.py:441:17: E1101: Instance of 'SupabaseBackgroundService' has no 'enqueue_task' member (no-member)
app/services/home_assistant_background_tasks.py:455:4: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/home_assistant_background_tasks.py:457:21: E1101: Instance of 'SupabaseBackgroundService' has no 'schedule_task' member (no-member)
app/services/home_assistant_background_tasks.py:461:21: E1101: Instance of 'SupabaseBackgroundService' has no 'enqueue_task' member (no-member)
app/services/home_assistant_background_tasks.py:475:17: E1101: Instance of 'SupabaseBackgroundService' has no 'enqueue_task' member (no-member)
app/services/home_assistant_background_tasks.py:492:17: E1101: Instance of 'SupabaseBackgroundService' has no 'schedule_task' member (no-member)
************* Module vertical-farm.backend.app.services.grow_automation_service
app/services/grow_automation_service.py:73:13: W0511: TODO: Replace with Supabase queue initialization (fixme)
app/services/grow_automation_service.py:340:5: W0511: TODO: Replace with Supabase-native queue processing (fixme)
app/services/grow_automation_service.py:496:13: W0511: TODO: Cancel pending Supabase queue items for this grow (fixme)
app/services/grow_automation_service.py:497:13: W0511: TODO: Notify Edge Functions to stop processing (fixme)
app/services/grow_automation_service.py:21:0: C0115: Missing class docstring (missing-class-docstring)
app/services/grow_automation_service.py:87:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:61:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:76:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:88:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:101:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:102:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:105:4: R0914: Too many local variables (16/15) (too-many-locals)
app/services/grow_automation_service.py:172:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:141:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:173:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:259:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:188:12: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
app/services/grow_automation_service.py:260:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:226:16: W0612: Unused variable 'off_response' (unused-variable)
app/services/grow_automation_service.py:328:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:329:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:372:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:360:27: E1101: Instance of 'DeviceMonitoringService' has no 'execute_device_action' member (no-member)
app/services/grow_automation_service.py:373:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:413:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:396:27: E1101: Instance of 'DeviceMonitoringService' has no 'execute_device_action' member (no-member)
app/services/grow_automation_service.py:414:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:421:4: R0913: Too many arguments (6/5) (too-many-arguments)
app/services/grow_automation_service.py:421:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
app/services/grow_automation_service.py:450:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:451:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:442:12: W0612: Unused variable 'response' (unused-variable)
app/services/grow_automation_service.py:474:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:475:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:501:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:499:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:502:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:546:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/grow_automation_service.py:547:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/grow_automation_service.py:505:28: W0613: Unused argument 'user_id' (unused-argument)
************* Module vertical-farm.backend.app.services.sensor_cache_service
app/services/sensor_cache_service.py:408:0: C0301: Line too long (113/100) (line-too-long)
app/services/sensor_cache_service.py:429:0: C0301: Line too long (102/100) (line-too-long)
app/services/sensor_cache_service.py:454:0: C0301: Line too long (108/100) (line-too-long)
app/services/sensor_cache_service.py:405:13: W0511: TODO: Implement proper Supabase query (fixme)
app/services/sensor_cache_service.py:426:13: W0511: TODO: Implement proper Supabase query (fixme)
app/services/sensor_cache_service.py:451:13: W0511: TODO: Implement proper Supabase query (fixme)
app/services/sensor_cache_service.py:470:13: W0511: TODO: Implement proper Supabase query (fixme)
app/services/sensor_cache_service.py:487:13: W0511: TODO: Implement proper Supabase query (fixme)
app/services/sensor_cache_service.py:504:13: W0511: TODO: Implement proper Supabase query (fixme)
app/services/sensor_cache_service.py:44:0: R0902: Too many instance attributes (8/7) (too-many-instance-attributes)
app/services/sensor_cache_service.py:58:0: R0902: Too many instance attributes (8/7) (too-many-instance-attributes)
app/services/sensor_cache_service.py:123:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:172:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:229:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:268:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:298:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:328:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:347:8: W0613: Unused argument 'sensor_type' (unused-argument)
app/services/sensor_cache_service.py:414:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/sensor_cache_service.py:407:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:415:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:403:12: W0612: Unused variable 'client' (unused-variable)
app/services/sensor_cache_service.py:435:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/sensor_cache_service.py:428:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:436:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:419:14: W0613: Unused argument 'user_id' (unused-argument)
app/services/sensor_cache_service.py:424:12: W0612: Unused variable 'client' (unused-variable)
app/services/sensor_cache_service.py:460:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/sensor_cache_service.py:453:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:461:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:444:8: W0613: Unused argument 'period_hours' (unused-argument)
app/services/sensor_cache_service.py:449:12: W0612: Unused variable 'client' (unused-variable)
app/services/sensor_cache_service.py:477:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/sensor_cache_service.py:478:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:468:12: W0612: Unused variable 'client' (unused-variable)
app/services/sensor_cache_service.py:494:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/sensor_cache_service.py:495:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:485:12: W0612: Unused variable 'client' (unused-variable)
app/services/sensor_cache_service.py:511:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/sensor_cache_service.py:512:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/sensor_cache_service.py:502:12: W0612: Unused variable 'client' (unused-variable)
app/services/sensor_cache_service.py:519:4: C0415: Import outside toplevel (app.core.cache.get_cache_manager) (import-outside-toplevel)
************* Module vertical-farm.backend.app.services.database_service
app/services/database_service.py:50:0: C0301: Line too long (132/100) (line-too-long)
app/services/database_service.py:13:0: C0115: Missing class docstring (missing-class-docstring)
app/services/database_service.py:55:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/database_service.py:51:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/database_service.py:56:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/database_service.py:109:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/database_service.py:105:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/database_service.py:111:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/database_service.py:112:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/database_service.py:166:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/database_service.py:171:0: C0103: Constant name "_database_service" doesn't conform to UPPER_CASE naming style (invalid-name)
app/services/database_service.py:176:4: W0603: Using the global statement (global-statement)
app/services/database_service.py:187:11: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/database_service.py:188:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
************* Module vertical-farm.backend.app.services.cache_service
app/services/cache_service.py:56:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/cache_service.py:51:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:54:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:57:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:78:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/cache_service.py:76:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:79:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:97:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/cache_service.py:95:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:98:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:113:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/cache_service.py:114:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:132:27: E1101: Instance of 'CacheManager' has no 'size' member (no-member)
app/services/cache_service.py:197:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/cache_service.py:198:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/cache_service.py:207:0: C0103: Constant name "_cache_service" doesn't conform to UPPER_CASE naming style (invalid-name)
app/services/cache_service.py:217:4: W0603: Using the global statement (global-statement)
************* Module vertical-farm.backend.app.services.device_monitoring_service
app/services/device_monitoring_service.py:17:1: W0511: TODO: Replace with Supabase native queuing/caching when implementing real-time features (fixme)
app/services/device_monitoring_service.py:42:9: W0511: TODO: Replace with Supabase Realtime subscriptions for real-time state updates (fixme)
app/services/device_monitoring_service.py:179:13: W0511: TODO: Consider using Supabase Realtime for instant state propagation (fixme)
app/services/device_monitoring_service.py:372:13: W0511: TODO: Consider using Supabase's built-in caching or Realtime subscriptions (fixme)
app/services/device_monitoring_service.py:23:0: C0115: Missing class docstring (missing-class-docstring)
app/services/device_monitoring_service.py:30:0: C0115: Missing class docstring (missing-class-docstring)
app/services/device_monitoring_service.py:60:23: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:56:12: W0612: Unused variable 'user_id' (unused-variable)
app/services/device_monitoring_service.py:73:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:98:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:124:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:106:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:110:24: E1123: Unexpected keyword argument 'url' in constructor call (unexpected-keyword-arg)
app/services/device_monitoring_service.py:110:24: E1123: Unexpected keyword argument 'token' in constructor call (unexpected-keyword-arg)
app/services/device_monitoring_service.py:110:24: E1120: No value for argument 'base_url' in constructor call (no-value-for-parameter)
app/services/device_monitoring_service.py:110:24: E1120: No value for argument 'access_token' in constructor call (no-value-for-parameter)
app/services/device_monitoring_service.py:115:25: E1101: Instance of 'HomeAssistantClient' has no 'test_connection' member (no-member)
app/services/device_monitoring_service.py:116:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:125:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:132:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:136:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:166:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:153:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:167:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:198:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:199:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:170:44: W0613: Unused argument 'old_state' (unused-argument)
app/services/device_monitoring_service.py:221:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:222:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:211:12: W0612: Unused variable 'result' (unused-variable)
app/services/device_monitoring_service.py:235:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:236:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:258:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:259:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:274:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:275:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:357:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:318:19: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:358:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:387:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:388:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:391:4: R0913: Too many arguments (8/5) (too-many-arguments)
app/services/device_monitoring_service.py:391:4: R0917: Too many positional arguments (8/5) (too-many-positional-arguments)
app/services/device_monitoring_service.py:418:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:419:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:405:12: W0612: Unused variable 'result' (unused-variable)
app/services/device_monitoring_service.py:421:4: R0913: Too many arguments (7/5) (too-many-arguments)
app/services/device_monitoring_service.py:421:4: R0917: Too many positional arguments (7/5) (too-many-positional-arguments)
app/services/device_monitoring_service.py:450:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:453:12: W0719: Raising too general exception: Exception (broad-exception-raised)
app/services/device_monitoring_service.py:456:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:457:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=500, detail=str(e)) from e' (raise-missing-from)
app/services/device_monitoring_service.py:474:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:475:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/device_monitoring_service.py:544:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:520:23: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/device_monitoring_service.py:545:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
************* Module vertical-farm.backend.app.services.user_home_assistant_service
app/services/user_home_assistant_service.py:238:0: C0301: Line too long (120/100) (line-too-long)
app/services/user_home_assistant_service.py:624:0: C0301: Line too long (101/100) (line-too-long)
app/services/user_home_assistant_service.py:67:23: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/user_home_assistant_service.py:66:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:68:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:80:24: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:83:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:57:25: W0612: Unused variable 'connection' (unused-variable)
app/services/user_home_assistant_service.py:107:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/user_home_assistant_service.py:109:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:112:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:116:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:117:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to retrieve Home Assistant configuration: {str(e)}') from e' (raise-missing-from)
app/services/user_home_assistant_service.py:163:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:171:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:173:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/user_home_assistant_service.py:182:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:183:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=f'Failed to save Home Assistant configuration: {str(e)}') from e' (raise-missing-from)
app/services/user_home_assistant_service.py:205:20: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:214:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:215:16: W0707: Consider explicitly re-raising using 'raise AuthenticationError(f'Token validation failed: {str(e)}') from e' (raise-missing-from)
app/services/user_home_assistant_service.py:223:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
app/services/user_home_assistant_service.py:224:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:228:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:267:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:271:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:272:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail=f'Failed to connect to Home Assistant: {str(e)}') from e' (raise-missing-from)
app/services/user_home_assistant_service.py:299:12: W0707: Consider explicitly re-raising using 'except SessionExpiredError as exc' and 'raise AuthenticationError('WebSocket session expired') from exc' (raise-missing-from)
app/services/user_home_assistant_service.py:301:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:302:12: W0707: Consider explicitly re-raising using 'raise AuthenticationError(f'Session validation failed: {str(e)}') from e' (raise-missing-from)
app/services/user_home_assistant_service.py:326:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/user_home_assistant_service.py:374:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:411:16: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:448:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:487:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:491:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:492:12: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail=f'Failed to retrieve device from Home Assistant: {str(e)}') from e' (raise-missing-from)
app/services/user_home_assistant_service.py:547:8: W0621: Redefining name 'datetime' from outer scope (line 10) (redefined-outer-name)
app/services/user_home_assistant_service.py:544:8: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:547:8: W0404: Reimport 'datetime' (imported line 10) (reimported)
app/services/user_home_assistant_service.py:547:8: C0415: Import outside toplevel (datetime.datetime) (import-outside-toplevel)
app/services/user_home_assistant_service.py:637:15: W0718: Catching too general exception Exception (broad-exception-caught)
app/services/user_home_assistant_service.py:638:12: W1203: Use lazy % formatting in logging functions (logging-fstring-interpolation)
app/services/user_home_assistant_service.py:654:0: C0103: Constant name "_user_ha_service" doesn't conform to UPPER_CASE naming style (invalid-name)
app/services/user_home_assistant_service.py:659:4: W0603: Using the global statement (global-statement)
app/services/user_home_assistant_service.py:667:4: W0603: Using the global statement (global-statement)
app/services/user_home_assistant_service.py:674:4: W0603: Using the global statement (global-statement)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[17:76]
==vertical-farm.backend.app.crud.crud_sensor_device:[20:79]
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*")
                .eq("id", str(id))
                .single()
                .execute()
            )
            return response.data
        except HTTPStatusError as e:
            if e.response.status_code == 406:
                return None
            raise
        except Exception:
            raise

    async def get_multi_by_parent(
        self,
        supabase: SupabaseClient,
        *,
        parent_id: UUID,
        parent_type: ParentType,
        skip: int = 0,
        limit: int = 100,
    ) -> list[dict[str, Any]]:
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*")
                .eq("parent_id", str(parent_id))
                .eq("parent_type", parent_type.value)
                .order("name")  # Example order
                .range(skip, skip + limit - 1)
                .execute()
            )
            return response.data
        except Exception:
            # logger.error(f"Error fetching sensor devices for parent {parent_id} ({parent_type.value}): {e}")
            raise

    async def get_multi_by_parent_with_total(
        self,
        supabase: SupabaseClient,
        *,
        parent_id: UUID,
        parent_type: ParentType,
        skip: int = 0,
        limit: int = 100,
    ) -> tuple[list[dict[str, Any]], int]:
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*", count="exact")
                .eq("parent_id", str(parent_id))
                .eq("parent_type", parent_type.value)
                .order("name")
                .range(skip, skip + limit - 1)
                .execute()
            ) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_rack:[110:155]
==vertical-farm.backend.app.crud.crud_shelf:[134:179]
            return response.data[0]
        except Exception:
            # logger.error(f"Error creating rack for row {row_id}: {e}")
            raise

    async def update(
        self, supabase: SupabaseClient, *, id: UUID, obj_in: RackUpdate
    ) -> dict[str, Any] | None:
        try:
            update_data = obj_in.model_dump(exclude_unset=True)
            if not update_data:
                return await self.get(supabase, id)

            response = (
                await supabase.table(self.table_name)
                .update(update_data)
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                # logger.warning(f"Update for rack {id} returned no data. Rack might not exist or no change made. Resp: {response}")
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error updating rack {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name)
                .delete()
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting rack {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[19:49]
==vertical-farm.backend.app.crud.crud_shelf:[23:53]
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*")
                .eq("id", str(id))
                .single()
                .execute()
            )
            return response.data
        except HTTPStatusError as e:
            if e.response.status_code == 406:  # PostgREST Not Found
                return None
            # logger.error(f"Error fetching row {id}: {e}")
            raise
        except Exception:
            # logger.error(f"Unexpected error fetching row {id}: {e}")
            raise

    async def get_multi_by_farm(
        self,
        supabase: SupabaseClient,
        *,
        farm_id: UUID,
        skip: int = 0,
        limit: int = 100,
    ) -> list[dict[str, Any]]:
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*") (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[17:46]
==vertical-farm.backend.app.crud.crud_rack:[18:43]
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*")
                .eq("id", str(id))
                .single()
                .execute()
            )
            return response.data
        except HTTPStatusError as e:
            if e.response.status_code == 406:
                return None
            # logger.error(f"Error fetching rack {id}: {e}")
            raise
        except Exception:
            # logger.error(f"Unexpected error fetching rack {id}: {e}")
            raise

    async def get_multi_by_row(
        self, supabase: SupabaseClient, *, row_id: UUID, skip: int = 0, limit: int = 100
    ) -> list[dict[str, Any]]:
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*") (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.core.security:[714:730]
==vertical-farm.backend.app.main:[233:250]
    try:
        # Note: python-jose requires key parameter even for unverified decoding
        payload = jwt.decode(
            raw_token,
            key="",
            options={
                # nosemgrep: python.jwt.security.unverified-jwt-decode.unverified-jwt-decode
                "verify_signature": False,
                "verify_aud": False,
                "verify_iss": False,
                "verify_exp": False,
                "verify_nbf": False,
                "verify_iat": False,
                "verify_sub": False,
            },
        ) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[118:152]
==vertical-farm.backend.app.crud.crud_sensor_device:[123:157]
            if "parent_type" in update_data and update_data["parent_type"]:
                update_data["parent_type"] = update_data["parent_type"].value

            response = (
                await supabase.table(self.table_name)
                .update(update_data)
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error updating fan {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name)
                .delete()
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting fan {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[144:176]
==vertical-farm.backend.app.crud.crud_shelf:[147:179]
            response = (
                await supabase.table(self.table_name)
                .update(update_data)
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                # logger.warning(f"Update for row {id} returned no data. Row might not exist or no change made. Resp: {response}")
                return None  # Or fetch current to confirm existence: await self.get(supabase, id)
            return response.data[0]
        except Exception:
            # logger.error(f"Error updating row {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name)
                .delete()
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting row {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[121:152]
==vertical-farm.backend.app.crud.crud_rack:[123:155]
            response = (
                await supabase.table(self.table_name)
                .update(update_data)
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                # logger.warning(f"Update for rack {id} returned no data. Rack might not exist or no change made. Resp: {response}")
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error updating rack {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name)
                .delete()
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting rack {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.core.security:[667:679]
==vertical-farm.backend.app.main:[238:250]
            key="",
            options={
                # nosemgrep: python.jwt.security.unverified-jwt-decode.unverified-jwt-decode
                "verify_signature": False,
                "verify_aud": False,
                "verify_iss": False,
                "verify_exp": False,
                "verify_nbf": False,
                "verify_iat": False,
                "verify_sub": False,
            },
        ) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.tests.api.test_home_assistant_devices:[22:42]
==vertical-farm.backend.app.tests.api.test_home_assistant_health:[21:41]
        async with AsyncClient(
            transport=ASGITransport(app=app), base_url="http://test"
        ) as ac:
            yield ac

    @pytest.fixture
    def mock_user(self):
        """Create a mock user for testing."""
        user = MagicMock()
        user.id = "550e8400-e29b-41d4-a716-446655440000"
        user.email = "test@example.com"
        user.is_active = True
        return user

    @pytest.fixture
    def mock_ha_service(self):
        """Create a mock Home Assistant service for testing."""
        mock_service = AsyncMock()

        # Mock device discovery (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.schemas.device_schemas:[11:26]
==vertical-farm.backend.app.services.device_monitoring_service:[22:36]
class DeviceType(str, Enum):
    LIGHT = "light"
    PUMP = "pump"
    FAN = "fan"
    SENSOR = "sensor"


class DeviceState(str, Enum):
    ON = "on"
    OFF = "off"
    UNAVAILABLE = "unavailable"
    UNKNOWN = "unknown"


# Device Action Schemas (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[22:33]
==vertical-farm.backend.app.crud.crud_user:[24:35]
                .select("*")
                .eq("id", str(id))
                .single()
                .execute()
            )
            return response.data
        except HTTPStatusError as e:
            if e.response.status_code == 406:  # PostgREST Not Found
                return None
            # logger.error(f"Error fetching user {id} from table: {e}")
            raise (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[24:45]
==vertical-farm.backend.app.crud.crud_user:[53:72]
                .single()
                .execute()
            )
            return response.data
        except HTTPStatusError as e:
            if e.response.status_code == 406:
                return None
            # logger.error(f"Error fetching user by email {email} from table: {e}")
            raise
        except Exception:
            # logger.error(f"Unexpected error fetching user by email {email} from table: {e}")
            raise

    async def create(
        self, supabase: SupabaseClient, obj_in: Any
    ) -> dict[str, Any]:  # Use Any for obj_in type hint
        from app.schemas import user as user_schema  # Import locally

        """Creates a new user using Supabase Auth and then potentially updates the users table with additional info.""" (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[143:161]
==vertical-farm.backend.app.crud.crud_shelf:[144:156]
            if not update_data:
                return await self.get(supabase, id)

            response = (
                await supabase.table(self.table_name)
                .update(update_data)
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                # logger.warning(f"Update for shelf {id} returned no data. Shelf might not exist. Resp: {response}")
                return None (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.tests.api.test_home_assistant_devices:[86:114]
==vertical-farm.backend.app.tests.api.test_home_assistant_health:[48:76]
        }

        return mock_service

    def setup_dependency_overrides(self, mock_user, mock_ha_service) -> None:
        """Set up FastAPI dependency overrides."""
        from app.api.v1.endpoints.home_assistant import (
            get_current_user,
            get_user_home_assistant_service,
        )

        app.dependency_overrides[get_current_user] = lambda: mock_user
        app.dependency_overrides[get_user_home_assistant_service] = (
            lambda: mock_ha_service
        )

    def cleanup_dependency_overrides(self) -> None:
        """Clean up dependency overrides after test."""
        app.dependency_overrides.clear()

    @pytest.mark.asyncio
    async def test_discover_devices_endpoint(
        self, client, mock_user, mock_ha_service
    ) -> None:
        """Test device discovery endpoint."""
        self.setup_dependency_overrides(mock_user, mock_ha_service)

        try: (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.schemas.sensor:[48:56]
==vertical-farm.backend.app.services.sensor_cache_service:[60:70]
    device_assignment_id: str
    sensor_type: str
    avg_value: float
    min_value: float
    max_value: float
    count: int
    period_start: datetime
    period_end: datetime

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[147:161]
==vertical-farm.backend.app.crud.crud_shelf:[168:179]
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting shelf {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[165:176]
==vertical-farm.backend.app.crud.crud_shelf:[150:164]
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting row {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[25:33]
==vertical-farm.backend.app.crud.crud_row:[19:27]
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*")
                .eq("id", str(id))
                .single()
                .execute()
            ) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[53:72]
==vertical-farm.backend.app.crud.crud_row:[30:49]
                return None
            # logger.error(f"Error fetching farm {id}: {e}")
            raise
        except Exception:
            # logger.error(f"Unexpected error fetching farm {id}: {e}")
            raise

    async def get_multi_by_owner(
        self,
        supabase: SupabaseClient,
        *,
        owner_id: UUID,
        skip: int = 0,
        limit: int = 100,
    ) -> list[dict[str, Any]]:
        try:
            response = (
                await supabase.table(self.table_name)
                .select("*") (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[147:161]
==vertical-farm.backend.app.crud.crud_row:[144:153]
            response = (
                await supabase.table(self.table_name)
                .update(update_data)
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                # logger.warning(f"Update for row {id} returned no data. Row might not exist or no change made. Resp: {response}")
                return None  # Or fetch current to confirm existence: await self.get(supabase, id) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_sensor_device:[107:121]
==vertical-farm.backend.app.crud.crud_shelf:[133:147]
                )
            return response.data[0]
        except Exception:
            # logger.error(f"Error creating sensor device for parent {parent_id} ({parent_type.value}): {e}")
            raise

    async def update(
        self, supabase: SupabaseClient, *, id: UUID, obj_in: SensorDeviceUpdate
    ) -> dict[str, Any] | None:
        try:
            update_data = obj_in.model_dump(exclude_unset=True)
            if not update_data:
                return await self.get(supabase, id)
 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[124:137]
==vertical-farm.backend.app.crud.crud_rack:[144:155]
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error updating fan {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None: (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[141:152]
==vertical-farm.backend.app.crud.crud_rack:[126:140]
                .eq("id", str(id))
                .execute()
            )
            if not response.data:
                return None
            return response.data[0]
        except Exception:
            # logger.error(f"Error deleting fan {id}: {e}")
            raise

 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[50:67]
==vertical-farm.backend.app.crud.crud_shelf:[54:71]
                .order("name")  # Example: order by name, adjust as needed
                .range(skip, skip + limit - 1)
                .execute()
            )
            return response.data
        except Exception:
            # logger.error(f"Error fetching rows for farm {farm_id}: {e}")
            raise

    async def get_multi_by_farm_with_racks(
        self,
        supabase: SupabaseClient,
        *,
        farm_id: UUID,
        skip: int = 0,
        limit: int = 100,
    ) -> list[RowResponse]: (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[127:141]
==vertical-farm.backend.app.crud.crud_shelf:[134:147]
            return response.data[0]
        except Exception:
            # logger.error(f"Error creating shelf for rack {rack_id}: {e}")
            raise

    async def update(
        self, supabase: SupabaseClient, *, id: UUID, obj_in: ShelfUpdate
    ) -> dict[str, Any] | None:
        try:
            update_data = obj_in.model_dump(exclude_unset=True)
            if not update_data:
                return await self.get(supabase, id)
 (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[175:184]
==vertical-farm.backend.app.crud.crud_row:[162:170]
            response = (
                await supabase.table(self.table_name)
                .delete()
                .eq("id", str(id))
                .execute()
            )

            if not response.data:  # If no rows were deleted (e.g., ID not found)
                return None (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[48:66]
==vertical-farm.backend.app.crud.crud_rack:[44:56]
                .order("name")  # Example order
                .range(skip, skip + limit - 1)
                .execute()
            )
            return response.data
        except Exception:
            # logger.error(f"Error fetching fans for parent {parent_id} ({parent_type.value}): {e}")
            raise

    async def get_multi_by_parent_with_total(
        self,
        supabase: SupabaseClient,
        *,
        parent_id: UUID,
        parent_type: ParentType,
        skip: int = 0,
        limit: int = 100,
    ) -> tuple[list[dict[str, Any]], int]: (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[102:116]
==vertical-farm.backend.app.crud.crud_rack:[110:123]
            return response.data[0]
        except Exception:
            # logger.error(f"Error creating fan for parent {parent_id} ({parent_type.value}): {e}")
            raise

    async def update(
        self, supabase: SupabaseClient, *, id: UUID, obj_in: FanUpdate
    ) -> dict[str, Any] | None:
        try:
            update_data = obj_in.model_dump(exclude_unset=True)
            if not update_data:
                return await self.get(supabase, id)

            # Handle enums if they are part of the update payload (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[49:67]
==vertical-farm.backend.app.crud.crud_farm:[74:91]
                .range(skip, skip + limit - 1)  # Supabase range is inclusive
                .execute()
            )
            return response.data
        except Exception:
            # logger.error(f"Error fetching farms for owner {owner_id}: {e}")
            raise

    async def get_multi_with_total(
        self,
        supabase: SupabaseClient,
        *,
        owner_id: UUID | None = None,
        skip: int = 0,
        limit: int = 100,
    ) -> tuple[list[dict[str, Any]], int]:
        try: (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[74:90]
==vertical-farm.backend.app.crud.crud_row:[51:67]
                .range(skip, skip + limit - 1)  # Supabase range is inclusive
                .execute()
            )
            return response.data
        except Exception:
            # logger.error(f"Error fetching farms for owner {owner_id}: {e}")
            raise

    async def get_multi_with_total(
        self,
        supabase: SupabaseClient,
        *,
        owner_id: UUID | None = None,
        skip: int = 0,
        limit: int = 100,
    ) -> tuple[list[dict[str, Any]], int]: (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[46:52]
==vertical-farm.backend.app.crud.crud_sensor_device:[73:79]
                .eq("parent_id", str(parent_id))
                .eq("parent_type", parent_type.value)
                .order("name")  # Example order
                .range(skip, skip + limit - 1)
                .execute()
            ) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[70:76]
==vertical-farm.backend.app.crud.crud_sensor_device:[49:55]
                .eq("parent_id", str(parent_id))
                .eq("parent_type", parent_type.value)
                .order("name")
                .range(skip, skip + limit - 1)
                .execute()
            ) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.services.error_handling:[274:280]
==vertical-farm.backend.app.services.home_assistant_client:[224:232]
        for task in self.background_tasks:
            task.cancel()
            try:
                await task
            except asyncio.CancelledError:
                pass (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.api.v1.endpoints.square:[447:452]
==vertical-farm.backend.app.schemas.square:[163:168]
                    "locations",
                    "products",
                    "customers",
                    "orders",
                    "payments", (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[33:48]
==vertical-farm.backend.app.crud.crud_shelf:[157:167]
        except Exception:
            # logger.error(f"Error updating shelf {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_row:[154:164]
==vertical-farm.backend.app.crud.crud_shelf:[37:52]
        except Exception:
            # logger.error(f"Error updating row {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[129:140]
==vertical-farm.backend.app.crud.crud_row:[127:137]
            return response.data[0]  # Supabase insert returns a list with one item
        except Exception:
            # logger.error(f"Error creating farm for owner {owner_id}: {e}")
            raise

    async def update(
        self, supabase: SupabaseClient, *, id: UUID, obj_in: farm_schema.FarmUpdate
    ) -> farm_schema.FarmResponse | None:
        try:
            update_data = obj_in.model_dump(exclude_unset=True)
            # Remove fields that don't exist in the database schema (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[30:45]
==vertical-farm.backend.app.crud.crud_rack:[133:143]
        except Exception:
            raise

    async def get_multi_by_parent(
        self,
        supabase: SupabaseClient,
        *,
        parent_id: UUID,
        parent_type: ParentType,
        skip: int = 0,
        limit: int = 100,
    ) -> list[dict[str, Any]]:
        try:
            response = (
                await supabase.table(self.table_name) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[53:69]
==vertical-farm.backend.app.crud.crud_rack:[32:42]
        except Exception:
            # logger.error(f"Error fetching fans for parent {parent_id} ({parent_type.value}): {e}")
            raise

    async def get_multi_by_parent_with_total(
        self,
        supabase: SupabaseClient,
        *,
        parent_id: UUID,
        parent_type: ParentType,
        skip: int = 0,
        limit: int = 100,
    ) -> tuple[list[dict[str, Any]], int]:
        try:
            response = (
                await supabase.table(self.table_name) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_fan:[130:140]
==vertical-farm.backend.app.crud.crud_sensor_device:[33:48]
        except Exception:
            # logger.error(f"Error updating fan {id}: {e}")
            raise

    async def remove(
        self, supabase: SupabaseClient, *, id: UUID
    ) -> dict[str, Any] | None:
        try:
            response = (
                await supabase.table(self.table_name) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.crud.crud_farm:[56:71]
==vertical-farm.backend.app.crud.crud_sensor_device:[56:72]
        except Exception:
            # logger.error(f"Unexpected error fetching farm {id}: {e}")
            raise

    async def get_multi_by_owner(
        self,
        supabase: SupabaseClient,
        *,
        owner_id: UUID,
        skip: int = 0,
        limit: int = 100,
    ) -> list[dict[str, Any]]:
        try:
            response = (
                await supabase.table(self.table_name) (duplicate-code)
app/services/user_home_assistant_service.py:1:0: R0801: Similar lines in 2 files
==vertical-farm.backend.app.services.error_handling:[727:732]
==vertical-farm.backend.app.services.home_assistant_client:[135:140]
        retryable_errors=[
            ErrorType.CONNECTION_ERROR,
            ErrorType.TIMEOUT_ERROR,
            ErrorType.SERVICE_UNAVAILABLE,
            ErrorType.RATE_LIMIT_ERROR, (duplicate-code)


Report
======
8160 statements analysed.

Statistics by type
------------------

+---------+-------+-----------+-----------+------------+---------+
|type     |number |old number |difference |%documented |%badname |
+=========+=======+===========+===========+============+=========+
|module   |77     |77         |=          |53.25       |0.00     |
+---------+-------+-----------+-----------+------------+---------+
|class    |278    |278        |=          |35.25       |0.00     |
+---------+-------+-----------+-----------+------------+---------+
|method   |390    |390        |=          |84.87       |0.00     |
+---------+-------+-----------+-----------+------------+---------+
|function |258    |258        |=          |92.25       |0.00     |
+---------+-------+-----------+-----------+------------+---------+



External dependencies
---------------------
::

    aiohttp (vertical-farm.backend.app.services.error_handling,vertical-farm.backend.app.services.home_assistant_client,vertical-farm.backend.app.tests.integration.test_integration_features)
    app 
      \-api 
      | \-v1 
      |   \-api (vertical-farm.backend.app.main)
      |   \-endpoints 
      |   | \-farm_automation (vertical-farm.backend.app.api.v1.api)
      |   | \-home_assistant (vertical-farm.backend.app.api.v1.api,vertical-farm.backend.app.tests.api.test_home_assistant_devices,vertical-farm.backend.app.tests.api.test_home_assistant_health)
      |   | \-square (vertical-farm.backend.app.api.v1.api)
      |   | \-supabase_background_tasks (vertical-farm.backend.app.api.v1.api)
      |   \-grow_automation (vertical-farm.backend.app.api.v1.api)
      |   \-sensors_cached (vertical-farm.backend.app.api.v1.api)
      \-core 
      | \-cache (vertical-farm.backend.app.services.sensor_cache_service)
      | \-config (vertical-farm.backend.app.core.database,vertical-farm.backend.app.core.security,vertical-farm.backend.app.db.supabase_client,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.main,vertical-farm.backend.app.services.database_service,vertical-farm.backend.app.services.home_assistant_service,vertical-farm.backend.app.services.supabase_background_service,vertical-farm.backend.app.services.user_home_assistant_service,vertical-farm.backend.app.tests.conftest)
      | \-database (vertical-farm.backend.app.services.sensor_cache_service)
      | \-security (vertical-farm.backend.app.api.v1.endpoints.home_assistant,vertical-farm.backend.app.api.v1.endpoints.square,vertical-farm.backend.app.api.v1.endpoints.supabase_background_tasks,vertical-farm.backend.app.api.v1.grow_automation,vertical-farm.backend.app.api.v1.sensors_cached,vertical-farm.backend.app.db.supabase_client,vertical-farm.backend.app.main,vertical-farm.backend.app.services.user_home_assistant_service)
      \-crud 
      | \-crud_farm (vertical-farm.backend.app.tests.unit.test_crud_operations)
      | \-crud_user (vertical-farm.backend.app.core.security,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.main,vertical-farm.backend.app.tests.unit.test_crud_operations)
      \-db (vertical-farm.backend.app.core.database)
      | \-supabase_client (vertical-farm.backend.app.api.v1.endpoints.home_assistant,vertical-farm.backend.app.api.v1.endpoints.square,vertical-farm.backend.app.api.v1.grow_automation,vertical-farm.backend.app.core.security,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.main,vertical-farm.backend.app.services.grow_automation_service,vertical-farm.backend.app.services.user_home_assistant_service)
      \-main 
      | \-app (vertical-farm.backend.app.tests.api.test_home_assistant_devices,vertical-farm.backend.app.tests.api.test_home_assistant_health,vertical-farm.backend.app.tests.conftest)
      \-models 
      | \-enums (vertical-farm.backend.app.crud.crud_fan,vertical-farm.backend.app.crud.crud_sensor_device,vertical-farm.backend.app.crud.crud_shelf,vertical-farm.backend.app.crud.crud_user_permission,vertical-farm.backend.app.models.user_permission,vertical-farm.backend.app.schemas.sensor_device,vertical-farm.backend.app.schemas.user,vertical-farm.backend.app.schemas.user_permission,vertical-farm.backend.app.tests.conftest)
      | \-home_assistant (vertical-farm.backend.app.api.v1.endpoints.home_assistant)
      | \-user (vertical-farm.backend.app.api.v1.endpoints.square,vertical-farm.backend.app.api.v1.sensors_cached,vertical-farm.backend.app.dependencies)
      | \-user_permission (vertical-farm.backend.app.crud.crud_user_permission)
      \-schemas 
      | \-fan (vertical-farm.backend.app.crud.crud_fan)
      | \-farm (vertical-farm.backend.app.crud.crud_farm,vertical-farm.backend.app.tests.unit.test_crud_operations)
      | \-grow_automation_schemas (vertical-farm.backend.app.api.v1.grow_automation)
      | \-rack (vertical-farm.backend.app.crud.crud_rack,vertical-farm.backend.app.schemas.row)
      | \-row (vertical-farm.backend.app.crud.crud_row,vertical-farm.backend.app.schemas.farm)
      | \-sensor (vertical-farm.backend.app.api.v1.sensors_cached)
      | \-sensor_device (vertical-farm.backend.app.crud.crud_sensor_device,vertical-farm.backend.app.schemas.shelf)
      | \-shelf (vertical-farm.backend.app.crud.crud_shelf,vertical-farm.backend.app.schemas.rack)
      | \-square (vertical-farm.backend.app.api.v1.endpoints.square)
      | \-token (vertical-farm.backend.app.dependencies)
      | \-user (vertical-farm.backend.app.core.security,vertical-farm.backend.app.crud.crud_user,vertical-farm.backend.app.tests.unit.test_crud_operations)
      | \-user_permission (vertical-farm.backend.app.crud.crud_user_permission)
      \-services 
        \-database_service (vertical-farm.backend.app.dependencies,vertical-farm.backend.app.services.grow_automation_service)
        \-device_monitoring_service (vertical-farm.backend.app.api.v1.grow_automation,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.services.grow_automation_service)
        \-error_handling (vertical-farm.backend.app.services.user_home_assistant_service)
        \-grow_automation_service (vertical-farm.backend.app.api.v1.grow_automation)
        \-home_assistant_client (vertical-farm.backend.app.services.home_assistant_service,vertical-farm.backend.app.services.user_home_assistant_service)
        \-sensor_cache_service (vertical-farm.backend.app.api.v1.sensors_cached)
        \-supabase_background_service (vertical-farm.backend.app.api.v1.endpoints.supabase_background_tasks,vertical-farm.backend.app.main)
        \-user_home_assistant_service (vertical-farm.backend.app.api.v1.endpoints.home_assistant)
    asyncio_throttle (vertical-farm.backend.app.services.home_assistant_client)
    asyncpg (vertical-farm.backend.app.services.database_service)
    ddtrace (vertical-farm.backend.app.core.datadog_setup)
    fastapi (vertical-farm.backend.app.api.v1.api,vertical-farm.backend.app.api.v1.devices,vertical-farm.backend.app.api.v1.endpoints.farm_automation,vertical-farm.backend.app.api.v1.endpoints.home_assistant,vertical-farm.backend.app.api.v1.endpoints.square,vertical-farm.backend.app.api.v1.endpoints.supabase_background_tasks,vertical-farm.backend.app.api.v1.grow_automation,vertical-farm.backend.app.api.v1.sensors_cached,vertical-farm.backend.app.core.security,vertical-farm.backend.app.db.supabase_client,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.main,vertical-farm.backend.app.services.device_monitoring_service,vertical-farm.backend.app.services.home_assistant_service,vertical-farm.backend.app.services.user_home_assistant_service,vertical-farm.backend.app.tests.api.test_home_assistant_devices,vertical-farm.backend.app.tests.api.test_home_assistant_health)
      \-middleware 
      | \-cors (vertical-farm.backend.app.main)
      \-responses (vertical-farm.backend.app.main)
      \-security (vertical-farm.backend.app.dependencies)
    gotrue 
      \-errors (vertical-farm.backend.app.crud.crud_user)
    httpx (vertical-farm.backend.app.api.v1.endpoints.square,vertical-farm.backend.app.crud.crud_fan,vertical-farm.backend.app.crud.crud_farm,vertical-farm.backend.app.crud.crud_rack,vertical-farm.backend.app.crud.crud_row,vertical-farm.backend.app.crud.crud_sensor_device,vertical-farm.backend.app.crud.crud_shelf,vertical-farm.backend.app.crud.crud_user,vertical-farm.backend.app.services.supabase_background_service,vertical-farm.backend.app.tests.api.test_home_assistant_devices,vertical-farm.backend.app.tests.api.test_home_assistant_health,vertical-farm.backend.app.tests.conftest)
    jose (vertical-farm.backend.app.dependencies)
      \-jwt (vertical-farm.backend.app.core.security,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.main)
    passlib 
      \-context (vertical-farm.backend.app.core.password_utils)
    pydantic (vertical-farm.backend.app.api.v1.endpoints.farm_automation,vertical-farm.backend.app.api.v1.endpoints.square,vertical-farm.backend.app.api.v1.endpoints.supabase_background_tasks,vertical-farm.backend.app.core.config,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.models.home_assistant,vertical-farm.backend.app.models.user,vertical-farm.backend.app.models.user_permission,vertical-farm.backend.app.schemas.device_schemas,vertical-farm.backend.app.schemas.fan,vertical-farm.backend.app.schemas.farm,vertical-farm.backend.app.schemas.grow_automation_schemas,vertical-farm.backend.app.schemas.rack,vertical-farm.backend.app.schemas.row,vertical-farm.backend.app.schemas.sensor,vertical-farm.backend.app.schemas.sensor_device,vertical-farm.backend.app.schemas.shelf,vertical-farm.backend.app.schemas.square,vertical-farm.backend.app.schemas.token,vertical-farm.backend.app.schemas.user,vertical-farm.backend.app.schemas.user_permission)
    pydantic_settings (vertical-farm.backend.app.core.config)
    pytest (vertical-farm.backend.app.tests.api.test_home_assistant_devices,vertical-farm.backend.app.tests.api.test_home_assistant_health,vertical-farm.backend.app.tests.api.test_main_endpoints,vertical-farm.backend.app.tests.conftest,vertical-farm.backend.app.tests.integration.test_background_queue_basic,vertical-farm.backend.app.tests.unit.test_crud_operations)
    pytest_asyncio (vertical-farm.backend.app.tests.api.test_home_assistant_devices,vertical-farm.backend.app.tests.api.test_home_assistant_health,vertical-farm.backend.app.tests.conftest)
    starlette 
      \-exceptions (vertical-farm.backend.app.main)
    supabase (vertical-farm.backend.app.core.database,vertical-farm.backend.app.core.security,vertical-farm.backend.app.crud.crud_fan,vertical-farm.backend.app.crud.crud_farm,vertical-farm.backend.app.crud.crud_rack,vertical-farm.backend.app.crud.crud_row,vertical-farm.backend.app.crud.crud_sensor_device,vertical-farm.backend.app.crud.crud_shelf,vertical-farm.backend.app.crud.crud_user,vertical-farm.backend.app.crud.crud_user_permission,vertical-farm.backend.app.db,vertical-farm.backend.app.db.supabase_client,vertical-farm.backend.app.dependencies,vertical-farm.backend.app.main,vertical-farm.backend.app.services.supabase_background_service,vertical-farm.backend.app.services.user_home_assistant_service)
    vertical-farm 
      \-backend 
        \-app 
          \-core 
          | \-cache (vertical-farm.backend.app.services.cache_service)
          | \-security (vertical-farm.backend.app.api.v1.endpoints.farm_automation)
          \-dependencies (vertical-farm.backend.app.api.v1.devices)
          \-schemas 
          | \-device_schemas (vertical-farm.backend.app.api.v1.devices)
          \-services 
            \-device_monitoring_service (vertical-farm.backend.app.api.v1.devices)
            \-farm_automation_service (vertical-farm.backend.app.api.v1.endpoints.farm_automation)
    websockets (vertical-farm.backend.app.services.home_assistant_client)
      \-exceptions (vertical-farm.backend.app.services.error_handling,vertical-farm.backend.app.services.home_assistant_client)



21312 lines have been analyzed

Raw metrics
-----------

+----------+-------+------+---------+-----------+
|type      |number |%     |previous |difference |
+==========+=======+======+=========+===========+
|code      |13634  |63.97 |13634    |=          |
+----------+-------+------+---------+-----------+
|docstring |3177   |14.91 |3177     |=          |
+----------+-------+------+---------+-----------+
|comment   |1131   |5.31  |1131     |=          |
+----------+-------+------+---------+-----------+
|empty     |3370   |15.81 |3370     |=          |
+----------+-------+------+---------+-----------+



Duplication
-----------

+-------------------------+------+---------+-----------+
|                         |now   |previous |difference |
+=========================+======+=========+===========+
|nb duplicated lines      |0     |0        |0          |
+-------------------------+------+---------+-----------+
|percent duplicated lines |0.000 |0.000    |=          |
+-------------------------+------+---------+-----------+



Messages by category
--------------------

+-----------+-------+---------+-----------+
|type       |number |previous |difference |
+===========+=======+=========+===========+
|convention |458    |458      |458        |
+-----------+-------+---------+-----------+
|refactor   |186    |186      |186        |
+-----------+-------+---------+-----------+
|warning    |844    |844      |844        |
+-----------+-------+---------+-----------+
|error      |63     |63       |63         |
+-----------+-------+---------+-----------+



% errors / warnings by module
-----------------------------

+-------------------------------------------------------------------------+------+--------+---------+-----------+
|module                                                                   |error |warning |refactor |convention |
+=========================================================================+======+========+=========+===========+
|vertical-farm.backend.app.services.home_assistant_background_tasks       |38.10 |2.96    |2.15     |1.31       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_user                                 |19.05 |0.95    |1.08     |7.21       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.device_monitoring_service             |7.94  |5.45    |2.15     |0.44       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.background_processor_redis_deprecated |6.35  |2.49    |2.15     |0.87       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.conftest                                 |4.76  |1.30    |1.08     |0.66       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.dependencies                                   |4.76  |0.12    |0.00     |1.09       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.home_assistant_client                 |3.17  |4.03    |3.23     |0.66       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.grow_automation_service               |3.17  |3.91    |2.15     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.farm_automation_service               |3.17  |2.84    |3.23     |0.44       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.sensor_device                          |3.17  |0.00    |0.00     |1.97       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.grow_automation                         |1.59  |2.96    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.error_handling                        |1.59  |2.13    |4.84     |0.66       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.cache_service                         |1.59  |1.78    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.models.user                                    |1.59  |0.00    |0.00     |0.00       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.endpoints.square                        |0.00  |17.89   |20.43    |6.33       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.endpoints.home_assistant                |0.00  |7.46    |2.15     |2.40       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.core.security                                  |0.00  |5.09    |8.06     |4.80       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.user_home_assistant_service           |0.00  |4.74    |24.73    |0.87       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.sensor_cache_service                  |0.00  |4.27    |1.08     |0.87       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.home_assistant_service                |0.00  |3.67    |1.08     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.endpoints.farm_automation               |0.00  |3.55    |2.15     |2.62       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.devices                                 |0.00  |2.84    |0.00     |0.00       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.main                                           |0.00  |2.37    |0.00     |2.18       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_rack                                 |0.00  |2.13    |0.00     |3.28       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.endpoints.supabase_background_tasks     |0.00  |1.90    |0.00     |0.87       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.supabase_background_service           |0.00  |1.30    |3.76     |0.44       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.services.database_service                      |0.00  |1.30    |0.00     |0.66       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_sensor_device                        |0.00  |1.18    |1.08     |2.40       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_fan                                  |0.00  |1.18    |1.08     |1.97       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.sensors_cached                          |0.00  |1.18    |0.54     |0.00       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_shelf                                |0.00  |1.18    |0.00     |2.84       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_row                                  |0.00  |1.18    |0.00     |2.40       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_farm                                 |0.00  |1.18    |0.00     |2.40       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.integration.test_integration_features    |0.00  |1.07    |3.76     |0.44       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.unit.test_crud_operations                |0.00  |0.95    |0.00     |1.09       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.api.test_main_endpoints                  |0.00  |0.59    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.crud_user_permission                      |0.00  |0.36    |0.00     |2.62       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.integration.test_background_queue_basic  |0.00  |0.24    |0.00     |0.00       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.core.config                                    |0.00  |0.12    |0.54     |0.87       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.core.cache                                     |0.00  |0.12    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.grow_automation_schemas                |0.00  |0.00    |3.23     |14.63      |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.sensor                                 |0.00  |0.00    |3.23     |1.31       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.square                                 |0.00  |0.00    |1.08     |0.44       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.device_schemas                         |0.00  |0.00    |0.00     |6.33       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.farm                                   |0.00  |0.00    |0.00     |1.97       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.user_permission                        |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.user                                   |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.shelf                                  |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.row                                    |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.rack                                   |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.fan                                    |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.models.enums                                   |0.00  |0.00    |0.00     |1.53       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.models.home_assistant                          |0.00  |0.00    |0.00     |1.09       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.db.supabase_client                             |0.00  |0.00    |0.00     |1.09       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.token                                  |0.00  |0.00    |0.00     |0.66       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.core.password_utils                            |0.00  |0.00    |0.00     |0.66       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.models.user_permission                         |0.00  |0.00    |0.00     |0.44       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.api.test_home_assistant_health           |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.tests.api.test_home_assistant_devices          |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.schemas.__init__                               |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.models.__init__                                |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.db.__init__                                    |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.crud.__init__                                  |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.core.datadog_setup                             |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+
|vertical-farm.backend.app.api.v1.api                                     |0.00  |0.00    |0.00     |0.22       |
+-------------------------------------------------------------------------+------+--------+---------+-----------+



Messages
--------

+------------------------------+------------+
|message id                    |occurrences |
+==============================+============+
|logging-fstring-interpolation |369         |
+------------------------------+------------+
|missing-class-docstring       |180         |
+------------------------------+------------+
|raise-missing-from            |150         |
+------------------------------+------------+
|broad-exception-caught        |124         |
+------------------------------+------------+
|line-too-long                 |95          |
+------------------------------+------------+
|missing-function-docstring    |79          |
+------------------------------+------------+
|no-else-return                |60          |
+------------------------------+------------+
|unused-argument               |44          |
+------------------------------+------------+
|duplicate-code                |43          |
+------------------------------+------------+
|try-except-raise              |40          |
+------------------------------+------------+
|missing-module-docstring      |36          |
+------------------------------+------------+
|no-member                     |32          |
+------------------------------+------------+
|invalid-name                  |32          |
+------------------------------+------------+
|unused-variable               |26          |
+------------------------------+------------+
|too-many-arguments            |24          |
+------------------------------+------------+
|redefined-builtin             |23          |
+------------------------------+------------+
|import-outside-toplevel       |23          |
+------------------------------+------------+
|too-many-positional-arguments |19          |
+------------------------------+------------+
|redefined-outer-name          |18          |
+------------------------------+------------+
|broad-exception-raised        |17          |
+------------------------------+------------+
|fixme                         |15          |
+------------------------------+------------+
|too-few-public-methods        |14          |
+------------------------------+------------+
|unexpected-keyword-arg        |10          |
+------------------------------+------------+
|no-value-for-parameter        |10          |
+------------------------------+------------+
|too-many-locals               |9           |
+------------------------------+------------+
|too-many-instance-attributes  |7           |
+------------------------------+------------+
|too-many-function-args        |7           |
+------------------------------+------------+
|wrong-import-position         |6           |
+------------------------------+------------+
|reimported                    |6           |
+------------------------------+------------+
|global-statement              |6           |
+------------------------------+------------+
|no-else-raise                 |4           |
+------------------------------+------------+
|too-many-lines                |3           |
+------------------------------+------------+
|too-many-return-statements    |2           |
+------------------------------+------------+
|protected-access              |2           |
+------------------------------+------------+
|pointless-string-statement    |2           |
+------------------------------+------------+
|no-self-argument              |2           |
+------------------------------+------------+
|no-else-break                 |2           |
+------------------------------+------------+
|wrong-import-order            |1           |
+------------------------------+------------+
|unspecified-encoding          |1           |
+------------------------------+------------+
|ungrouped-imports             |1           |
+------------------------------+------------+
|too-many-public-methods       |1           |
+------------------------------+------------+
|too-many-branches             |1           |
+------------------------------+------------+
|superfluous-parens            |1           |
+------------------------------+------------+
|no-name-in-module             |1           |
+------------------------------+------------+
|logging-not-lazy              |1           |
+------------------------------+------------+
|import-error                  |1           |
+------------------------------+------------+
|consider-iterating-dictionary |1           |
+------------------------------+------------+




------------------------------------------------------------------
Your code has been rated at 7.79/10 (previous run: 7.79/10, +0.00)

